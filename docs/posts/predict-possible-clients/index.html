<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<link rel="alternate" hreflang="en" href="https://stesiam.com/posts/predict-possible-clients/index.html" />
<link rel="alternate" hreflang="el" href="https://stesiam.com/el/posts/predict-possible-clients/index.el.html" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.15">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="stesiam">
<meta name="dcterms.date" content="2022-11-24">
<meta name="description" content="Build a classification machine learning model (using LightGBM &amp; XGBoost) in order to classify people based on their interest to have a term deposit or not.">
<title>Predict Possible Interested Clients – stesiam</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>
<script src="../../site_libs/quarto-nav/quarto-nav.js"></script><script src="../../site_libs/quarto-nav/headroom.min.js"></script><script src="../../site_libs/clipboard/clipboard.min.js"></script><script src="../../site_libs/quarto-search/autocomplete.umd.js"></script><script src="../../site_libs/quarto-search/fuse.min.js"></script><script src="../../site_libs/quarto-search/quarto-search.js"></script><meta name="quarto:offset" content="../../">
<link href="../../assets/images/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script><script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script><script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script><script src="../../site_libs/quarto-html/popper.min.js"></script><script src="../../site_libs/quarto-html/tippy.umd.min.js"></script><script src="../../site_libs/quarto-html/anchor.min.js"></script><link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2b336ac022a9048902f1b6fb56aa45ab.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-dadc90a7f4efb73b95c4af27939b0905.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2b336ac022a9048902f1b6fb56aa45ab.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script><link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-26b8a2f0c7a19612a3ea8e912ee74e20.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-9e8b9ce22a23469d63b14da38bc8c721.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-26b8a2f0c7a19612a3ea8e912ee74e20.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="../../site_libs/quarto-diagram/mermaid.min.js"></script><script src="../../site_libs/quarto-diagram/mermaid-init.js"></script><link href="../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
<script src="../../site_libs/core-js-2.5.3/shim.min.js"></script><script src="../../site_libs/react-18.2.0/react.min.js"></script><script src="../../site_libs/react-18.2.0/react-dom.min.js"></script><script src="../../site_libs/reactwidget-2.0.0/react-tools.js"></script><link href="../../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="../../site_libs/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="../../site_libs/reactable-binding-0.4.4/reactable.js"></script><script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script><script src="../../site_libs/proj4js-2.3.15/proj4.js"></script><link href="../../site_libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="../../site_libs/highcharts-9.3.1/highcharts.js"></script><script src="../../site_libs/highcharts-9.3.1/highcharts-3d.js"></script><script src="../../site_libs/highcharts-9.3.1/highcharts-more.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/stock.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/map.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/data.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/exporting.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/offline-exporting.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/drilldown.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/item-series.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/annotations.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/export-data.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/funnel.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/heatmap.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/treemap.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/sankey.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/dependency-wheel.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/organization.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/solid-gauge.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/streamgraph.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/sunburst.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/vector.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/wordcloud.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/xrange.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/tilemap.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/venn.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/gantt.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/timeline.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/bullet.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/coloraxis.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/dumbbell.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/lollipop.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/series-label.js"></script><script src="../../site_libs/highcharts-9.3.1/plugins/motion.js"></script><script src="../../site_libs/highcharts-9.3.1/custom/reset.js"></script><script src="../../site_libs/highcharts-9.3.1/modules/boost.js"></script><script src="../../site_libs/highchart-binding-0.9.4/highchart.js"></script><script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script><link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script><script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script><script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">
<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script><link rel="stylesheet" href="../../assets/styles/styles.css">
<meta property="og:title" content="Predict Possible Interested Clients – stesiam">
<meta property="og:description" content="Build a classification machine learning model (using LightGBM &amp; XGBoost) in order to classify people based on their interest to have a term deposit or not.">
<meta property="og:image" content="https://stesiam.com/posts/predict-possible-clients/client_predict.png">
<meta property="og:site_name" content="stesiam">
<meta property="og:image:height" content="387">
<meta property="og:image:width" content="600">
<meta property="og:image:alt" content="Μagnifying glass shows human figures">
</head>
<body class="floating nav-fixed quarto-light">
<script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script><div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">stesiam</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item"><div class="dropdown" id="languages-links-parent">
<button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" id="languages-button"><i class="bi bi-globe2"></i> English</button><ul class="dropdown-menu" id="languages-links"><li><a class="dropdown-item" href="https://stesiam.com/el/posts/predict-possible-clients/index.html" id="language-link-el">Greek</a></li></ul>
</div></li>
<li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about-me/index.html"> 
<span class="menu-text">About me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts/index.html"> 
<span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../web-apps/index.html"> 
<span class="menu-text">Web Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../software/index.html"> 
<span class="menu-text">Software</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../material/index.html"> 
<span class="menu-text">Material</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../gallery/index.html"> 
<span class="menu-text">Gallery</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/stesiam/cvDSen"> 
<span class="menu-text">CV</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/stesiam" title="" class="quarto-navigation-tool px-1" aria-label="Personal (stesiam's) GitHub Page"><i class="bi bi-github"></i></a>
    <a href="../../posts/index.xml" title="" class="quarto-navigation-tool px-1" aria-label="Website RSS"><i class="bi bi-rss"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <div class="quarto-title-block"><div>
<h1 class="title">Predict Possible Interested Clients</h1>
<button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu">
<li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li>
<li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li>
<li><hr class="dropdown-divider"></li>
<li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button" data-quarto-source-url="https://github.com/stesiam/stesiam.github.io/blob/gh-pages/posts/predict-possible-clients/index.qmd">View Source</a></li>
</ul>
</div></div>
                  <div>
        <div class="description">
          <p>Build a classification machine learning model (using LightGBM &amp; XGBoost) in order to classify people based on their interest to have a term deposit or not.</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">R</div>
                <div class="quarto-category">Classification</div>
                <div class="quarto-category">Tidymodels</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>stesiam </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 24, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of Contents</h2>
   
  <ul>
<li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li>
<a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites">Prerequisites</a>
  <ul class="collapse">
<li><a href="#import-libraries" id="toc-import-libraries" class="nav-link" data-scroll-target="#import-libraries">Import libraries</a></li>
  <li><a href="#import-dataset" id="toc-import-dataset" class="nav-link" data-scroll-target="#import-dataset">Import dataset</a></li>
  <li><a href="#preview-dataset" id="toc-preview-dataset" class="nav-link" data-scroll-target="#preview-dataset">Preview dataset</a></li>
  <li><a href="#custom-functions" id="toc-custom-functions" class="nav-link" data-scroll-target="#custom-functions">Custom functions</a></li>
  </ul>
</li>
  <li>
<a href="#eda-with-r" id="toc-eda-with-r" class="nav-link" data-scroll-target="#eda-with-r">EDA with R</a>
  <ul class="collapse">
<li><a href="#missing-values" id="toc-missing-values" class="nav-link" data-scroll-target="#missing-values">Missing Values</a></li>
  <li>
<a href="#univariate-analysis" id="toc-univariate-analysis" class="nav-link" data-scroll-target="#univariate-analysis">Univariate analysis</a>
  <ul class="collapse">
<li><a href="#qualitative-variables" id="toc-qualitative-variables" class="nav-link" data-scroll-target="#qualitative-variables">Qualitative variables</a></li>
  <li><a href="#quantitative-variables" id="toc-quantitative-variables" class="nav-link" data-scroll-target="#quantitative-variables">Quantitative variables</a></li>
  </ul>
</li>
  <li>
<a href="#bivariate-analysis" id="toc-bivariate-analysis" class="nav-link" data-scroll-target="#bivariate-analysis">Bivariate analysis</a>
  <ul class="collapse">
<li><a href="#qualitative-variables-1" id="toc-qualitative-variables-1" class="nav-link" data-scroll-target="#qualitative-variables-1">Qualitative variables</a></li>
  <li><a href="#quantitative-variables-1" id="toc-quantitative-variables-1" class="nav-link" data-scroll-target="#quantitative-variables-1">Quantitative variables</a></li>
  </ul>
</li>
  </ul>
</li>
  <li>
<a href="#building-model" id="toc-building-model" class="nav-link" data-scroll-target="#building-model">Building model</a>
  <ul class="collapse">
<li><a href="#split-traintest-dataset" id="toc-split-traintest-dataset" class="nav-link" data-scroll-target="#split-traintest-dataset">Split train/test dataset</a></li>
  <li><a href="#recipes" id="toc-recipes" class="nav-link" data-scroll-target="#recipes">Recipes</a></li>
  <li><a href="#create-validation-set" id="toc-create-validation-set" class="nav-link" data-scroll-target="#create-validation-set">Create validation set</a></li>
  <li><a href="#specify-models" id="toc-specify-models" class="nav-link" data-scroll-target="#specify-models">Specify models</a></li>
  <li><a href="#hyperparameters-tuning" id="toc-hyperparameters-tuning" class="nav-link" data-scroll-target="#hyperparameters-tuning">Hyperparameters tuning</a></li>
  <li><a href="#fit-resamples" id="toc-fit-resamples" class="nav-link" data-scroll-target="#fit-resamples">Fit resamples</a></li>
  <li><a href="#evaluate-model" id="toc-evaluate-model" class="nav-link" data-scroll-target="#evaluate-model">Evaluate model</a></li>
  <li><a href="#last-fit" id="toc-last-fit" class="nav-link" data-scroll-target="#last-fit">Last fit</a></li>
  </ul>
</li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a></li>
  <li><a href="#hypothesis" id="toc-hypothesis" class="nav-link" data-scroll-target="#hypothesis">Hypothesis</a></li>
  </ul></nav></nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content"><section id="introduction" class="level1"><h1>Introduction</h1>
<p>On this article, I will make a ML model, in order to predict the costumers of a bank that are interested on having a term deposit. To achieve this goal I will use some Boosting algorithms (XGBoost and LightGBM). The data is from UCI website <span class="citation" data-cites="Dua2019">(<a href="#ref-Dua2019" role="doc-biblioref">Dua &amp; Graff, 2017</a>)</span> and the dataset that I worked with is “Bank Marketing” <span class="citation" data-cites="moro2014data">(<a href="#ref-moro2014data" role="doc-biblioref">Moro, Cortez, &amp; Rita, 2014</a>)</span>.</p>
<p>But first let’s explain some things.</p>
<blockquote class="blockquote">
<p>What is a term deposit ?</p>
</blockquote>
<p>Generally, we are saving our money in a bank account but we are promising to not withdraw them for a specific amount of time.</p>
<blockquote class="blockquote">
<p>And why someone to do that ?</p>
</blockquote>
<p>It is apparent that term deposits have a major disadvantage over regular ones in terms of capital availability. Of course, people will not have motive to do that without anything in return. For that reason, the banks usually offer higher interest for that kind of accounts. For example, Piraeus Bank (a bank in Greece) offers double interest rate on term deposits compared to regular ones.</p>
<p>So, we can assume that there will be a serious interest for that product mostly on people with significant amount of savings (<span class="math inline">&gt;1000</span>) and do not have large, extraordinary expenses (loan, kids, etc.).</p>
</section><section id="prerequisites" class="level1"><h1>Prerequisites</h1>
<section id="import-libraries" class="level2"><h2 class="anchored" data-anchor-id="import-libraries">Import libraries</h2>
<p>For this analysis we will need standard libraries for importing and processing my data, such as readr <span class="citation" data-cites="R-readr">(<a href="#ref-R-readr" role="doc-biblioref">Wickham, Hester, &amp; Bryan, 2024</a>)</span> and dplyr <span class="citation" data-cites="R-dplyr">(<a href="#ref-R-dplyr" role="doc-biblioref">Wickham, François, Henry, Müller, &amp; Vaughan, 2023</a>)</span>. The kableExtra <span class="citation" data-cites="R-kableExtra">(<a href="#ref-R-kableExtra" role="doc-biblioref">Zhu, 2024</a>)</span> package was used to print the results in table format. Concerning general purpose R libraries, I also used gridExtra in order to show ggplot items side to side.</p>
<p>On its basis this analysis is about to predict if someone is interested or not to have a term deposit. Thus, we need to build a ML model. The all-in-one solution package tidymodels is crucial to this. Although, there are some concerns about our data (imbalanced predicted value and our implementation of LightGBM. Thankfully, these are solved by bonsai and treesnip packages, respectively.</p>
<p>Finally, the ggplot2 <span class="citation" data-cites="R-ggplot2">(<a href="#ref-R-ggplot2" role="doc-biblioref">Wickham et al., 2025</a>)</span> package was used to create some visualizations, as well as an auxiliary package, ggtext <span class="citation" data-cites="R-ggtext">(<a href="#ref-R-ggtext" role="doc-biblioref"><strong>R-ggtext?</strong></a>)</span>, for further formatting those.</p>
<div class="cell" title="Import R Libraries">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org">readr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://forcats.tidyverse.org/">forcats</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/">kableExtra</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://jkunst.com/highcharter/">highcharter</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://glue.tidyverse.org/">glue</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://glin.github.io/reactable/">reactable</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build ML models</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidymodels.tidymodels.org">tidymodels</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://bonsai.tidymodels.org/">bonsai</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidymodels/themis">themis</a></span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
</section><section id="import-dataset" class="level2"><h2 class="anchored" data-anchor-id="import-dataset">Import dataset</h2>
<p>After loading R libraries, then I will load my data. The initial source of my dataset has various versions of the same dataset. I will use the smaller one, as the fitting process on Boosting algorithms it is more time consuming in comparison with other methods (e.g. Logistic Regression, k-Nearest Neighbours etc.).</p>
<div class="cell" title="Import dataset">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">bank_dataset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_delim</a></span><span class="op">(</span><span class="st">"bank_dataset_files/bank.csv"</span>,  delim <span class="op">=</span> <span class="st">";"</span>, escape_double <span class="op">=</span> <span class="cn">FALSE</span>, trim_ws <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">bank_dataset</span> <span class="op">=</span> <span class="va">bank_dataset</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rowid_to_column</a></span><span class="op">(</span><span class="st">"ID"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
</section><section id="preview-dataset" class="level2"><h2 class="anchored" data-anchor-id="preview-dataset">Preview dataset</h2>
<p>Here we can see a small chunk of my dataset (first 10 rows / observations) just to understand the dataset’s structure and type of variables.</p>
<div class="cell" title="Preview Data" data-tbl-cap-location="top">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">preview_bank_dataset</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">bank_dataset</span>, <span class="fl">6</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://glin.github.io/reactable/reference/reactable.html">reactable</a></span><span class="op">(</span></span>
<span>  <span class="va">preview_bank_dataset</span>,</span>
<span>  bordered <span class="op">=</span> <span class="cn">FALSE</span>,     <span class="co"># No borders (booktabs style)</span></span>
<span>  striped <span class="op">=</span> <span class="cn">FALSE</span>,      <span class="co"># No stripes for a clean look</span></span>
<span>  highlight <span class="op">=</span> <span class="cn">FALSE</span>,    <span class="co"># No hover highlighting</span></span>
<span>  defaultColDef <span class="op">=</span> <span class="fu"><a href="https://glin.github.io/reactable/reference/colDef.html">colDef</a></span><span class="op">(</span>align <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span>,</span>
<span>  style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>fontSize <span class="op">=</span> <span class="st">"14px"</span>, border <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  theme <span class="op">=</span> <span class="fu"><a href="https://glin.github.io/reactable/reference/reactableTheme.html">reactableTheme</a></span><span class="op">(</span></span>
<span>    borderColor <span class="op">=</span> <span class="st">"transparent"</span>, <span class="co"># Remove border</span></span>
<span>    cellStyle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      borderBottom <span class="op">=</span> <span class="st">"transparent"</span>  <span class="co"># Subtle line between rows</span></span>
<span>    <span class="op">)</span>,</span>
<span>    headerStyle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      borderBottom <span class="op">=</span> <span class="st">"2px solid rgb(117, 117, 117)"</span>, <span class="co"># Thick top rule</span></span>
<span>      borderTop <span class="op">=</span> <span class="st">"2px solid rgb(117, 117, 117)"</span>,</span>
<span>      fontWeight <span class="op">=</span> <span class="st">"bold"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div id="tbl-preview-dataset" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-tbl-cap-location="top" title="Preview Data">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-preview-dataset-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 1: Preview dataset (first six rows)
</figcaption><div aria-describedby="tbl-preview-dataset-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-44c7b0e592e045eec99d" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-44c7b0e592e045eec99d">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"ID":[1,2,3,4,5,6],"age":[30,33,35,30,59,35],"job":["unemployed","services","management","management","blue-collar","management"],"marital":["married","married","single","married","married","single"],"education":["primary","secondary","tertiary","tertiary","secondary","tertiary"],"default":["no","no","no","no","no","no"],"balance":[1787,4789,1350,1476,0,747],"housing":["no","yes","yes","yes","yes","no"],"loan":["no","yes","no","yes","no","no"],"contact":["cellular","cellular","cellular","unknown","unknown","cellular"],"day":[19,11,16,3,5,23],"month":["oct","may","apr","jun","may","feb"],"duration":[79,220,185,199,226,141],"campaign":[1,1,1,4,1,2],"pdays":[-1,339,330,-1,-1,176],"previous":[0,4,1,0,0,3],"poutcome":["unknown","failure","failure","unknown","unknown","failure"],"y":["no","no","no","no","no","no"]},"columns":[{"id":"ID","name":"ID","type":"numeric","align":"center"},{"id":"age","name":"age","type":"numeric","align":"center"},{"id":"job","name":"job","type":"character","align":"center"},{"id":"marital","name":"marital","type":"character","align":"center"},{"id":"education","name":"education","type":"character","align":"center"},{"id":"default","name":"default","type":"character","align":"center"},{"id":"balance","name":"balance","type":"numeric","align":"center"},{"id":"housing","name":"housing","type":"character","align":"center"},{"id":"loan","name":"loan","type":"character","align":"center"},{"id":"contact","name":"contact","type":"character","align":"center"},{"id":"day","name":"day","type":"numeric","align":"center"},{"id":"month","name":"month","type":"character","align":"center"},{"id":"duration","name":"duration","type":"numeric","align":"center"},{"id":"campaign","name":"campaign","type":"numeric","align":"center"},{"id":"pdays","name":"pdays","type":"numeric","align":"center"},{"id":"previous","name":"previous","type":"numeric","align":"center"},{"id":"poutcome","name":"poutcome","type":"character","align":"center"},{"id":"y","name":"y","type":"character","align":"center"}],"style":{"fontSize":"14px","border":"none"},"theme":{"borderColor":"transparent","headerStyle":{"borderBottom":"2px solid rgb(117, 117, 117)","borderTop":"2px solid rgb(117, 117, 117)","fontWeight":"bold"},"cellStyle":{"borderBottom":"transparent"}},"dataKey":"bceea9c68cf64b8205a727b9da695c9f"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
<p>Before we do any analysis we have to define what kind of data we have available. We can assess this type of information by looking on the values of each variable. Generally, we can classify our variables, depending their values, as follows :</p>
<center>
<div class="cell" title="Diagram about type of variables" data-layout-align="default">
<div class="cell-output-display">
<div id="fig-diagram-var-types" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-diagram-var-types-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-diagram-var-types">graph TD;
  A(Type of variables) --&gt; B(Quantitative)
  A(Type of variables) --&gt; C(Qualitative)
  B --&gt; D(Discrete)
  B --&gt; E(Continuous)
  C --&gt; J(Nominal)
  C --&gt; G(Ordinal)
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-diagram-var-types-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 1: Type of variables based on its values
</figcaption></figure>
</div>
</div>
</div>
</center>
<p>Our dataset is consisted by 18 variables (columns) and 4521 observations (rows). More specifically, concerning my variables, are as follows :</p>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead><tr class="header">
<th style="text-align: center;">Variable</th>
<th style="text-align: center;">Property</th>
<th style="text-align: center;">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>Age</code></td>
<td style="text-align: center;">
<em>quantitative</em> <br> (continuous)</td>
<td style="text-align: center;">The age of the respondent</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>Job</code></td>
<td style="text-align: center;">
<em>qualitative</em> <br> (nominal)</td>
<td style="text-align: center;">The sector of employment of the respondent</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>Marital</code></td>
<td style="text-align: center;">
<em>qualitative</em> <br> (nominal)</td>
<td style="text-align: center;">The marital status of the respondent</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>Education</code></td>
<td style="text-align: center;">
<em>qualitative</em> <br> (ordinal)</td>
<td style="text-align: center;">The higher education level that the respondent has ever reached</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>Default</code></td>
<td style="text-align: center;">
<em>qualitative</em> <br> (nominal)</td>
<td style="text-align: center;">has credit in default?</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>Balance</code></td>
<td style="text-align: center;">
<em>quantitative</em> <br> (continuous)</td>
<td style="text-align: center;">Average yearly balance, in euros</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>Housing</code></td>
<td style="text-align: center;">
<em>qualitative</em> <br> (nominal)</td>
<td style="text-align: center;">Has housing loan?</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>Loan</code></td>
<td style="text-align: center;">
<em>qualitative</em> <br> (nominal)</td>
<td style="text-align: center;">Has personal loan?</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>Contact</code></td>
<td style="text-align: center;">
<em>qualitative</em> <br> (nominal)</td>
<td style="text-align: center;">Contact communication type</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>Month</code></td>
<td style="text-align: center;">
<em>qualitative</em> <br> (ordinal)</td>
<td style="text-align: center;">Last contact day of the month</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>Duration</code></td>
<td style="text-align: center;">
<em>quantitative</em> <br> (continuous)</td>
<td style="text-align: center;">Last contact duration, in seconds (numeric)</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>Campaign</code></td>
<td style="text-align: center;"><em>quantitative</em></td>
<td style="text-align: center;">Number of contacts performed during this campaign and for this client</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>pdays</code></td>
<td style="text-align: center;"><em>quantitative</em></td>
<td style="text-align: center;">Number of days that passed by after the client was last contacted from a previous campaign</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>pprevious</code></td>
<td style="text-align: center;"><em>quantitative</em></td>
<td style="text-align: center;">Number of contacts performed before this campaign and for this client</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>poutcome</code></td>
<td style="text-align: center;">
<em>qualitative</em> (nominal)</td>
<td style="text-align: center;">Outcome of the previous marketing campaign</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>Deposit</code></td>
<td style="text-align: center;">
<em>qualitative</em> <br> (nominal)</td>
<td style="text-align: center;">Has the client subscribed a term deposit?</td>
</tr>
</tbody>
</table>
<p>Thus, my sample has 18 variables, of which 7 are quantitative and 10 are quantitative properties, of which 8 are nominal and the rest ones (<code>Education</code>, <code>Month</code>) are ordinal.</p>
<div class="cell" title="Convert response variable to factor">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">bank_dataset</span><span class="op">$</span><span class="va">y</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">bank_dataset</span><span class="op">$</span><span class="va">y</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
</section><section id="custom-functions" class="level2"><h2 class="anchored" data-anchor-id="custom-functions">Custom functions</h2>
<blockquote class="blockquote">
<p>So, I have a basic idea about my data. Can we start analyzing our data?</p>
</blockquote>
<p>It depends. If you want to do a simple analysis then yes. Although most of the times this is not the case. Probably there is the need for repetitive actions. In order to not repeat ourselves we need to define some actions, prior to our analysis.</p>
<p>On this occasion, I found beneficial the definition of a function for qualitative data.</p>
<div class="cell" title="Function: Create single variable plots - Qualitative">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">univariateQualitativePlot</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">column</span>, <span class="va">title</span>, <span class="va">subtitle</span>, <span class="va">chart_type</span> <span class="op">=</span> <span class="st">"bar"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://jkunst.com/highcharter/">highcharter</a></span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># Compute frequency table</span></span>
<span>  <span class="va">freq_table</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="op">{</span><span class="op">{</span> <span class="va">column</span> <span class="op">}</span><span class="op">}</span>, name <span class="op">=</span> <span class="st">"Frequency"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">Frequency</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>Variable <span class="op">=</span> <span class="op">{</span><span class="op">{</span> <span class="va">column</span> <span class="op">}</span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># Define common chart properties</span></span>
<span>  <span class="va">hc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://jkunst.com/highcharter/reference/highchart.html">highchart</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_title.html">hc_title</a></span><span class="op">(</span>text <span class="op">=</span> <span class="va">title</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_subtitle.html">hc_subtitle</a></span><span class="op">(</span>text <span class="op">=</span> <span class="va">subtitle</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_tooltip.html">hc_tooltip</a></span><span class="op">(</span>pointFormat <span class="op">=</span> <span class="st">"{point.name}: {point.y}"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_legend.html">hc_legend</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="va">chart_type</span> <span class="op">==</span> <span class="st">"pie"</span><span class="op">)</span>  <span class="co"># Enable legend only for pie chart</span></span>
<span></span>
<span>  <span class="co"># Choose chart type</span></span>
<span>  <span class="va">hc</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="va">chart_type</span> <span class="op">==</span> <span class="st">"bar"</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">hc</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_chart.html">hc_chart</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"bar"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_xAxis.html">hc_xAxis</a></span><span class="op">(</span>categories <span class="op">=</span> <span class="va">freq_table</span><span class="op">$</span><span class="va">Variable</span>, title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Job Category"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_yAxis.html">hc_yAxis</a></span><span class="op">(</span>title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Frequency"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_series.html">hc_series</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Frequency"</span>, data <span class="op">=</span> <span class="va">freq_table</span><span class="op">$</span><span class="va">Frequency</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">chart_type</span> <span class="op">==</span> <span class="st">"pie"</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">pie_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">freq_table</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="va">freq_table</span><span class="op">$</span><span class="va">Variable</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, y <span class="op">=</span> <span class="va">freq_table</span><span class="op">$</span><span class="va">Frequency</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">hc</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_chart.html">hc_chart</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"pie"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>      <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_series.html">hc_series</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Frequency"</span>, data <span class="op">=</span> <span class="va">pie_data</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"Invalid chart type. Use 'bar' or 'pie'."</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">hc</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<p>I will do the same for univariate numeric data.</p>
<p>[EDITTING]</p>
</section></section><section id="eda-with-r" class="level1"><h1>EDA with R</h1>
<section id="missing-values" class="level2"><h2 class="anchored" data-anchor-id="missing-values">Missing Values</h2>
<div class="cell" title="How many NAs do I have">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">how_many_nas</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">bank_dataset</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<p>On this dataset there are 0 missing values, in total. So, there is no need for imputation.</p>
</section><section id="univariate-analysis" class="level2"><h2 class="anchored" data-anchor-id="univariate-analysis">Univariate analysis</h2>
<section id="qualitative-variables" class="level3"><h3 class="anchored" data-anchor-id="qualitative-variables">Qualitative variables</h3>
<div class="tabset-margin-container"></div>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Job</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Marital status</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Education</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Default</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false">Housing</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-6" role="tab" aria-controls="tabset-1-6" aria-selected="false">Loan</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-7" role="tab" aria-controls="tabset-1-7" aria-selected="false">Contact</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-8-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-8" role="tab" aria-controls="tabset-1-8" aria-selected="false">Month</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-9-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-9" role="tab" aria-controls="tabset-1-9" aria-selected="false">poutcome</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-10-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-10" role="tab" aria-controls="tabset-1-10" aria-selected="false">Deposit</a></li>
</ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell" title="Figure : Job">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">univariateQualitativePlot</span><span class="op">(</span><span class="va">bank_dataset</span>, <span class="va">job</span>, </span>
<span>                          title <span class="op">=</span> <span class="st">"Sector of employment of the respondent?"</span>, </span>
<span>                          subtitle <span class="op">=</span> <span class="st">"Number and (%) of total respondents"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div id="fig-job" class="cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-job-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="highchart html-widget html-fill-item" id="htmlwidget-1fbe99ec31fb66c7bc91" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-1fbe99ec31fb66c7bc91">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"bar"},"title":{"text":"Sector of employment of the respondent?"},"yAxis":{"title":{"text":"Frequency"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"subtitle":{"text":"Number and (%) of total respondents"},"tooltip":{"pointFormat":"{point.name}: {point.y}"},"legend":{"enabled":false},"xAxis":{"categories":["management","blue-collar","technician","admin.","services","retired","self-employed","entrepreneur","unemployed","housemaid","student","unknown"],"title":{"text":"Job Category"}},"series":[{"name":"Frequency","data":[969,946,768,478,417,230,183,168,128,112,84,38]}]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-job-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 2: Figure: Job
</figcaption></figure>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" title="Figure : Marital Status">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">univariateQualitativePlot</span><span class="op">(</span><span class="va">bank_dataset</span>, <span class="va">marital</span>, </span>
<span>                          title <span class="op">=</span> <span class="st">"What is your marital status?"</span>, </span>
<span>                          subtitle <span class="op">=</span> <span class="st">"Most of the participants are married."</span>, <span class="st">"pie"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div id="fig-marital-status" class="cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-marital-status-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="highchart html-widget html-fill-item" id="htmlwidget-e436b73c1d84a986bf11" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-e436b73c1d84a986bf11">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"pie"},"title":{"text":"What is your marital status?"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"subtitle":{"text":"Most of the participants are married."},"tooltip":{"pointFormat":"{point.name}: {point.y}"},"legend":{"enabled":true},"series":[{"name":"Frequency","data":[{"name":"married","y":2797},{"name":"single","y":1196},{"name":"divorced","y":528}]}]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-marital-status-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 3: Figure : Marital Status
</figcaption></figure>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">univariateQualitativePlot</span><span class="op">(</span><span class="va">bank_dataset</span>, <span class="va">education</span>, title <span class="op">=</span> <span class="st">"Type of your education"</span>, subtitle <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-a17b612d308dd68aa0da" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a17b612d308dd68aa0da">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"bar"},"title":{"text":"Type of your education"},"yAxis":{"title":{"text":"Frequency"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"subtitle":{"text":""},"tooltip":{"pointFormat":"{point.name}: {point.y}"},"legend":{"enabled":false},"xAxis":{"categories":["secondary","tertiary","primary","unknown"],"title":{"text":"Job Category"}},"series":[{"name":"Frequency","data":[2306,1350,678,187]}]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">univariateQualitativePlot</span><span class="op">(</span><span class="va">bank_dataset</span>, <span class="va">default</span>, </span>
<span>                          title <span class="op">=</span> <span class="st">"Has credit in default?"</span>, </span>
<span>                          subtitle <span class="op">=</span> <span class="st">"(%) of respondents that have failed to meet their payment obligations"</span>,                            <span class="st">"pie"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-1c14add18e159e778c6d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-1c14add18e159e778c6d">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"pie"},"title":{"text":"Has credit in default?"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"subtitle":{"text":"(%) of respondents that have failed to meet their payment obligations"},"tooltip":{"pointFormat":"{point.name}: {point.y}"},"legend":{"enabled":true},"series":[{"name":"Frequency","data":[{"name":"no","y":4445},{"name":"yes","y":76}]}]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">univariateQualitativePlot</span><span class="op">(</span><span class="va">bank_dataset</span>, <span class="va">housing</span>, </span>
<span>                          title <span class="op">=</span> <span class="st">"Has housing loan?"</span>, </span>
<span>                          subtitle <span class="op">=</span> <span class="st">"(%) of respondents who have acquired a housing loan"</span>,                            <span class="st">"pie"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-7d95c6b7e36cceda6d8a" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-7d95c6b7e36cceda6d8a">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"pie"},"title":{"text":"Has housing loan?"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"subtitle":{"text":"(%) of respondents who have acquired a housing loan"},"tooltip":{"pointFormat":"{point.name}: {point.y}"},"legend":{"enabled":true},"series":[{"name":"Frequency","data":[{"name":"yes","y":2559},{"name":"no","y":1962}]}]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-1-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-6-tab">
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">univariateQualitativePlot</span><span class="op">(</span><span class="va">bank_dataset</span>, <span class="va">loan</span>, </span>
<span>                          title <span class="op">=</span> <span class="st">"Has personal loan?"</span>, </span>
<span>                          subtitle <span class="op">=</span> <span class="st">"(%) of respondents who have acquired a personal loan"</span>,                            <span class="st">"pie"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-ff74b7b5ad76c493854f" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-ff74b7b5ad76c493854f">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"pie"},"title":{"text":"Has personal loan?"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"subtitle":{"text":"(%) of respondents who have acquired a personal loan"},"tooltip":{"pointFormat":"{point.name}: {point.y}"},"legend":{"enabled":true},"series":[{"name":"Frequency","data":[{"name":"no","y":3830},{"name":"yes","y":691}]}]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-1-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-7-tab">
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">univariateQualitativePlot</span><span class="op">(</span><span class="va">bank_dataset</span>, <span class="va">contact</span>, </span>
<span>                          title <span class="op">=</span> <span class="st">"Type of Contact"</span>, </span>
<span>                          subtitle <span class="op">=</span> <span class="st">"Vast majority of apporaches are via cellular phones."</span>, <span class="st">"pie"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-817dd811a89484da9468" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-817dd811a89484da9468">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"pie"},"title":{"text":"Type of Contact"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"subtitle":{"text":"Vast majority of apporaches are via cellular phones."},"tooltip":{"pointFormat":"{point.name}: {point.y}"},"legend":{"enabled":true},"series":[{"name":"Frequency","data":[{"name":"cellular","y":2896},{"name":"unknown","y":1324},{"name":"telephone","y":301}]}]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-1-8" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-8-tab">
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">univariateQualitativePlot</span><span class="op">(</span><span class="va">bank_dataset</span>, <span class="va">month</span>, </span>
<span>                          title <span class="op">=</span> <span class="st">"Μέσο επικοινωνίας"</span>, </span>
<span>                          subtitle <span class="op">=</span> <span class="st">"Η προώθηση μέσω κινητού είναι πιο εκτεταμένη σε σχέση με το σταθερό"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div id="fig-last-month" class="cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-last-month-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="highchart html-widget html-fill-item" id="htmlwidget-fb862a064f56e92afa0e" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-fb862a064f56e92afa0e">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"bar"},"title":{"text":"Μέσο επικοινωνίας"},"yAxis":{"title":{"text":"Frequency"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"subtitle":{"text":"Η προώθηση μέσω κινητού είναι πιο εκτεταμένη σε σχέση με το σταθερό"},"tooltip":{"pointFormat":"{point.name}: {point.y}"},"legend":{"enabled":false},"xAxis":{"categories":["may","jul","aug","jun","nov","apr","feb","jan","oct","sep","mar","dec"],"title":{"text":"Job Category"}},"series":[{"name":"Frequency","data":[1398,706,633,531,389,293,222,148,80,52,49,20]}]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-last-month-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 4: Κυκλικό διάγραμμα τρόπων προσέγγισης ατόμων - πελατών
</figcaption></figure>
</div>
</div>
</div>
<div id="tabset-1-9" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-9-tab">
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">univariateQualitativePlot</span><span class="op">(</span><span class="va">bank_dataset</span>, <span class="va">poutcome</span>, </span>
<span>                          title <span class="op">=</span> <span class="st">"Which was the outcome of the previous approaches?"</span>, </span>
<span>                          subtitle <span class="op">=</span> <span class="st">"For every five failed approaches there was one succussful."</span>, <span class="st">"pie"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-1584aff49e5b73bf1e60" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-1584aff49e5b73bf1e60">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"pie"},"title":{"text":"Which was the outcome of the previous approaches?"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"subtitle":{"text":"For every five failed approaches there was one succussful."},"tooltip":{"pointFormat":"{point.name}: {point.y}"},"legend":{"enabled":true},"series":[{"name":"Frequency","data":[{"name":"unknown","y":3705},{"name":"failure","y":490},{"name":"other","y":197},{"name":"success","y":129}]}]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-1-10" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-10-tab">
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">univariateQualitativePlot</span><span class="op">(</span><span class="va">bank_dataset</span>, <span class="va">y</span>, </span>
<span>                          title <span class="op">=</span> <span class="st">"How many people made a deposit account?"</span>, </span>
<span>                          subtitle <span class="op">=</span> <span class="st">"(%) of respondents who have decided to open a deposit account</span></span>
<span><span class="st">                                      as a result of the current approach"</span>,</span>
<span>                          <span class="st">"pie"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-d2f5dd2f14bc3528898b" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-d2f5dd2f14bc3528898b">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"pie"},"title":{"text":"How many people made a deposit account?"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"subtitle":{"text":"(%) of respondents who have decided to open a deposit account\n                                      as a result of the current approach"},"tooltip":{"pointFormat":"{point.name}: {point.y}"},"legend":{"enabled":true},"series":[{"name":"Frequency","data":[{"name":"no","y":4000},{"name":"yes","y":521}]}]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
</section><section id="quantitative-variables" class="level3"><h3 class="anchored" data-anchor-id="quantitative-variables">Quantitative variables</h3>
<div class="tabset-margin-container"></div>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Age</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Balance</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Διάρκεια κλήσης</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Campaign</a></li>
</ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">subtitle_text</span> <span class="op">=</span> <span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"The meadian age is &lt;b&gt;{median(bank_dataset$age)}&lt;/b&gt;."</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://jkunst.com/highcharter/reference/hchart.html">hchart</a></span><span class="op">(</span><span class="va">bank_dataset</span><span class="op">$</span><span class="va">age</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_title.html">hc_title</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Age Distribution"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_subtitle.html">hc_subtitle</a></span><span class="op">(</span>text <span class="op">=</span> <span class="va">subtitle_text</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_caption.html">hc_caption</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Bank Marketing Dataset from UCI"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_tooltip.html">hc_tooltip</a></span><span class="op">(</span>pointFormat <span class="op">=</span> <span class="st">"{point.name}: {point.y}"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_legend.html">hc_legend</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-de11476364057b039de9" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-de11476364057b039de9">{"x":{"hc_opts":{"chart":{"reflow":true,"zoomType":"x"},"title":{"text":"Age Distribution"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"tooltip":{"formatter":"function() { return  this.point.name + '<br/>' + this.y; }","pointFormat":"{point.name}: {point.y}"},"series":[{"data":[{"x":19,"y":7,"name":"(18, 20]"},{"x":21,"y":16,"name":"(20, 22]"},{"x":23,"y":44,"name":"(22, 24]"},{"x":25,"y":121,"name":"(24, 26]"},{"x":27,"y":197,"name":"(26, 28]"},{"x":29,"y":247,"name":"(28, 30]"},{"x":31,"y":423,"name":"(30, 32]"},{"x":33,"y":417,"name":"(32, 34]"},{"x":35,"y":368,"name":"(34, 36]"},{"x":37,"y":320,"name":"(36, 38]"},{"x":39,"y":272,"name":"(38, 40]"},{"x":41,"y":276,"name":"(40, 42]"},{"x":43,"y":220,"name":"(42, 44]"},{"x":45,"y":231,"name":"(44, 46]"},{"x":47,"y":222,"name":"(46, 48]"},{"x":49,"y":213,"name":"(48, 50]"},{"x":51,"y":177,"name":"(50, 52]"},{"x":53,"y":165,"name":"(52, 54]"},{"x":55,"y":164,"name":"(54, 56]"},{"x":57,"y":176,"name":"(56, 58]"},{"x":59,"y":118,"name":"(58, 60]"},{"x":61,"y":23,"name":"(60, 62]"},{"x":63,"y":15,"name":"(62, 64]"},{"x":65,"y":15,"name":"(64, 66]"},{"x":67,"y":7,"name":"(66, 68]"},{"x":69,"y":13,"name":"(68, 70]"},{"x":71,"y":10,"name":"(70, 72]"},{"x":73,"y":9,"name":"(72, 74]"},{"x":75,"y":8,"name":"(74, 76]"},{"x":77,"y":9,"name":"(76, 78]"},{"x":79,"y":10,"name":"(78, 80]"},{"x":81,"y":1,"name":"(80, 82]"},{"x":83,"y":5,"name":"(82, 84]"},{"x":85,"y":1,"name":"(84, 86]"},{"x":87,"y":1,"name":"(86, 88]"}],"type":"column","pointRange":2,"groupPadding":0,"pointPadding":0,"borderWidth":0}],"subtitle":{"text":"The meadian age is <b>39<\/b>."},"caption":{"text":"Bank Marketing Dataset from UCI"},"legend":{"enabled":false}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":["hc_opts.tooltip.formatter"],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://jkunst.com/highcharter/reference/hchart.html">hchart</a></span><span class="op">(</span><span class="va">bank_dataset</span><span class="op">$</span><span class="va">balance</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_title.html">hc_title</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Balance Distribution"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_subtitle.html">hc_subtitle</a></span><span class="op">(</span>text <span class="op">=</span> <span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"The most prevalent group is the one with balance between 0$ and 200$. The median balance is {median(bank_dataset$balance)}"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_caption.html">hc_caption</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Bank Marketing Dataset from UCI"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_tooltip.html">hc_tooltip</a></span><span class="op">(</span>pointFormat <span class="op">=</span> <span class="st">"{point.name}: {point.y}"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_legend.html">hc_legend</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_xAxis.html">hc_xAxis</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Balance in $"</span><span class="op">)</span>,</span>
<span>      max <span class="op">=</span> <span class="fl">10000</span></span>
<span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-35a50ec54bbcfa6a4592" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-35a50ec54bbcfa6a4592">{"x":{"hc_opts":{"chart":{"reflow":true,"zoomType":"x"},"title":{"text":"Balance Distribution"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"tooltip":{"formatter":"function() { return  this.point.name + '<br/>' + this.y; }","pointFormat":"{point.name}: {point.y}"},"series":[{"data":[{"x":-3300,"y":1,"name":"(-3400, -3200]"},{"x":-3100,"y":0,"name":"(-3200, -3000]"},{"x":-2900,"y":0,"name":"(-3000, -2800]"},{"x":-2700,"y":0,"name":"(-2800, -2600]"},{"x":-2500,"y":0,"name":"(-2600, -2400]"},{"x":-2300,"y":0,"name":"(-2400, -2200]"},{"x":-2100,"y":1,"name":"(-2200, -2000]"},{"x":-1900,"y":0,"name":"(-2000, -1800]"},{"x":-1700,"y":2,"name":"(-1800, -1600]"},{"x":-1500,"y":1,"name":"(-1600, -1400]"},{"x":-1300,"y":6,"name":"(-1400, -1200]"},{"x":-1100,"y":3,"name":"(-1200, -1000]"},{"x":-900,"y":19,"name":"(-1000, -800]"},{"x":-700,"y":23,"name":"(-800, -600]"},{"x":-500,"y":53,"name":"(-600, -400]"},{"x":-300,"y":98,"name":"(-400, -200]"},{"x":-100,"y":516,"name":"(-200, 0]"},{"x":100,"y":884,"name":"(0, 200]"},{"x":300,"y":540,"name":"(200, 400]"},{"x":500,"y":381,"name":"(400, 600]"},{"x":700,"y":294,"name":"(600, 800]"},{"x":900,"y":218,"name":"(800, 1000]"},{"x":1100,"y":174,"name":"(1000, 1200]"},{"x":1300,"y":129,"name":"(1200, 1400]"},{"x":1500,"y":122,"name":"(1400, 1600]"},{"x":1700,"y":84,"name":"(1600, 1800]"},{"x":1900,"y":85,"name":"(1800, 2000]"},{"x":2100,"y":59,"name":"(2000, 2200]"},{"x":2300,"y":60,"name":"(2200, 2400]"},{"x":2500,"y":55,"name":"(2400, 2600]"},{"x":2700,"y":47,"name":"(2600, 2800]"},{"x":2900,"y":47,"name":"(2800, 3000]"},{"x":3100,"y":39,"name":"(3000, 3200]"},{"x":3300,"y":41,"name":"(3200, 3400]"},{"x":3500,"y":35,"name":"(3400, 3600]"},{"x":3700,"y":39,"name":"(3600, 3800]"},{"x":3900,"y":32,"name":"(3800, 4000]"},{"x":4100,"y":33,"name":"(4000, 4200]"},{"x":4300,"y":20,"name":"(4200, 4400]"},{"x":4500,"y":23,"name":"(4400, 4600]"},{"x":4700,"y":26,"name":"(4600, 4800]"},{"x":4900,"y":22,"name":"(4800, 5000]"},{"x":5100,"y":22,"name":"(5000, 5200]"},{"x":5300,"y":13,"name":"(5200, 5400]"},{"x":5500,"y":16,"name":"(5400, 5600]"},{"x":5700,"y":11,"name":"(5600, 5800]"},{"x":5900,"y":14,"name":"(5800, 6000]"},{"x":6100,"y":10,"name":"(6000, 6200]"},{"x":6300,"y":7,"name":"(6200, 6400]"},{"x":6500,"y":8,"name":"(6400, 6600]"},{"x":6700,"y":10,"name":"(6600, 6800]"},{"x":6900,"y":12,"name":"(6800, 7000]"},{"x":7100,"y":13,"name":"(7000, 7200]"},{"x":7300,"y":7,"name":"(7200, 7400]"},{"x":7500,"y":3,"name":"(7400, 7600]"},{"x":7700,"y":9,"name":"(7600, 7800]"},{"x":7900,"y":7,"name":"(7800, 8000]"},{"x":8100,"y":10,"name":"(8000, 8200]"},{"x":8300,"y":9,"name":"(8200, 8400]"},{"x":8500,"y":5,"name":"(8400, 8600]"},{"x":8700,"y":5,"name":"(8600, 8800]"},{"x":8900,"y":5,"name":"(8800, 9000]"},{"x":9100,"y":5,"name":"(9000, 9200]"},{"x":9300,"y":10,"name":"(9200, 9400]"},{"x":9500,"y":1,"name":"(9400, 9600]"},{"x":9700,"y":3,"name":"(9600, 9800]"},{"x":9900,"y":2,"name":"(9800, 10000]"},{"x":10100,"y":1,"name":"(10000, 10200]"},{"x":10300,"y":3,"name":"(10200, 10400]"},{"x":10500,"y":0,"name":"(10400, 10600]"},{"x":10700,"y":5,"name":"(10600, 10800]"},{"x":10900,"y":4,"name":"(10800, 11000]"},{"x":11100,"y":1,"name":"(11000, 11200]"},{"x":11300,"y":5,"name":"(11200, 11400]"},{"x":11500,"y":3,"name":"(11400, 11600]"},{"x":11700,"y":1,"name":"(11600, 11800]"},{"x":11900,"y":1,"name":"(11800, 12000]"},{"x":12100,"y":1,"name":"(12000, 12200]"},{"x":12300,"y":1,"name":"(12200, 12400]"},{"x":12500,"y":4,"name":"(12400, 12600]"},{"x":12700,"y":1,"name":"(12600, 12800]"},{"x":12900,"y":1,"name":"(12800, 13000]"},{"x":13100,"y":3,"name":"(13000, 13200]"},{"x":13300,"y":3,"name":"(13200, 13400]"},{"x":13500,"y":1,"name":"(13400, 13600]"},{"x":13700,"y":4,"name":"(13600, 13800]"},{"x":13900,"y":1,"name":"(13800, 14000]"},{"x":14100,"y":2,"name":"(14000, 14200]"},{"x":14300,"y":2,"name":"(14200, 14400]"},{"x":14500,"y":3,"name":"(14400, 14600]"},{"x":14700,"y":1,"name":"(14600, 14800]"},{"x":14900,"y":0,"name":"(14800, 15000]"},{"x":15100,"y":1,"name":"(15000, 15200]"},{"x":15300,"y":1,"name":"(15200, 15400]"},{"x":15500,"y":2,"name":"(15400, 15600]"},{"x":15700,"y":0,"name":"(15600, 15800]"},{"x":15900,"y":1,"name":"(15800, 16000]"},{"x":16100,"y":2,"name":"(16000, 16200]"},{"x":16300,"y":2,"name":"(16200, 16400]"},{"x":16500,"y":1,"name":"(16400, 16600]"},{"x":16700,"y":0,"name":"(16600, 16800]"},{"x":16900,"y":4,"name":"(16800, 17000]"},{"x":17100,"y":0,"name":"(17000, 17200]"},{"x":17300,"y":1,"name":"(17200, 17400]"},{"x":17500,"y":1,"name":"(17400, 17600]"},{"x":17700,"y":0,"name":"(17600, 17800]"},{"x":17900,"y":0,"name":"(17800, 18000]"},{"x":18100,"y":0,"name":"(18000, 18200]"},{"x":18300,"y":1,"name":"(18200, 18400]"},{"x":18500,"y":0,"name":"(18400, 18600]"},{"x":18700,"y":0,"name":"(18600, 18800]"},{"x":18900,"y":0,"name":"(18800, 19000]"},{"x":19100,"y":0,"name":"(19000, 19200]"},{"x":19300,"y":2,"name":"(19200, 19400]"},{"x":19500,"y":1,"name":"(19400, 19600]"},{"x":19700,"y":0,"name":"(19600, 19800]"},{"x":19900,"y":0,"name":"(19800, 20000]"},{"x":20100,"y":0,"name":"(20000, 20200]"},{"x":20300,"y":0,"name":"(20200, 20400]"},{"x":20500,"y":1,"name":"(20400, 20600]"},{"x":20700,"y":0,"name":"(20600, 20800]"},{"x":20900,"y":0,"name":"(20800, 21000]"},{"x":21100,"y":0,"name":"(21000, 21200]"},{"x":21300,"y":1,"name":"(21200, 21400]"},{"x":21500,"y":1,"name":"(21400, 21600]"},{"x":21700,"y":1,"name":"(21600, 21800]"},{"x":21900,"y":0,"name":"(21800, 22000]"},{"x":22100,"y":2,"name":"(22000, 22200]"},{"x":22300,"y":1,"name":"(22200, 22400]"},{"x":22500,"y":1,"name":"(22400, 22600]"},{"x":22700,"y":0,"name":"(22600, 22800]"},{"x":22900,"y":1,"name":"(22800, 23000]"},{"x":23100,"y":0,"name":"(23000, 23200]"},{"x":23300,"y":0,"name":"(23200, 23400]"},{"x":23500,"y":0,"name":"(23400, 23600]"},{"x":23700,"y":1,"name":"(23600, 23800]"},{"x":23900,"y":0,"name":"(23800, 24000]"},{"x":24100,"y":0,"name":"(24000, 24200]"},{"x":24300,"y":0,"name":"(24200, 24400]"},{"x":24500,"y":0,"name":"(24400, 24600]"},{"x":24700,"y":0,"name":"(24600, 24800]"},{"x":24900,"y":0,"name":"(24800, 25000]"},{"x":25100,"y":0,"name":"(25000, 25200]"},{"x":25300,"y":0,"name":"(25200, 25400]"},{"x":25500,"y":0,"name":"(25400, 25600]"},{"x":25700,"y":0,"name":"(25600, 25800]"},{"x":25900,"y":1,"name":"(25800, 26000]"},{"x":26100,"y":0,"name":"(26000, 26200]"},{"x":26300,"y":2,"name":"(26200, 26400]"},{"x":26500,"y":1,"name":"(26400, 26600]"},{"x":26700,"y":0,"name":"(26600, 26800]"},{"x":26900,"y":1,"name":"(26800, 27000]"},{"x":27100,"y":1,"name":"(27000, 27200]"},{"x":27300,"y":1,"name":"(27200, 27400]"},{"x":27500,"y":0,"name":"(27400, 27600]"},{"x":27700,"y":1,"name":"(27600, 27800]"},{"x":27900,"y":0,"name":"(27800, 28000]"},{"x":28100,"y":0,"name":"(28000, 28200]"},{"x":28300,"y":0,"name":"(28200, 28400]"},{"x":28500,"y":0,"name":"(28400, 28600]"},{"x":28700,"y":0,"name":"(28600, 28800]"},{"x":28900,"y":0,"name":"(28800, 29000]"},{"x":29100,"y":0,"name":"(29000, 29200]"},{"x":29300,"y":0,"name":"(29200, 29400]"},{"x":29500,"y":0,"name":"(29400, 29600]"},{"x":29700,"y":0,"name":"(29600, 29800]"},{"x":29900,"y":0,"name":"(29800, 30000]"},{"x":30100,"y":0,"name":"(30000, 30200]"},{"x":30300,"y":0,"name":"(30200, 30400]"},{"x":30500,"y":0,"name":"(30400, 30600]"},{"x":30700,"y":0,"name":"(30600, 30800]"},{"x":30900,"y":0,"name":"(30800, 31000]"},{"x":31100,"y":0,"name":"(31000, 31200]"},{"x":31300,"y":0,"name":"(31200, 31400]"},{"x":31500,"y":0,"name":"(31400, 31600]"},{"x":31700,"y":0,"name":"(31600, 31800]"},{"x":31900,"y":0,"name":"(31800, 32000]"},{"x":32100,"y":0,"name":"(32000, 32200]"},{"x":32300,"y":0,"name":"(32200, 32400]"},{"x":32500,"y":0,"name":"(32400, 32600]"},{"x":32700,"y":0,"name":"(32600, 32800]"},{"x":32900,"y":0,"name":"(32800, 33000]"},{"x":33100,"y":0,"name":"(33000, 33200]"},{"x":33300,"y":0,"name":"(33200, 33400]"},{"x":33500,"y":0,"name":"(33400, 33600]"},{"x":33700,"y":0,"name":"(33600, 33800]"},{"x":33900,"y":0,"name":"(33800, 34000]"},{"x":34100,"y":0,"name":"(34000, 34200]"},{"x":34300,"y":0,"name":"(34200, 34400]"},{"x":34500,"y":0,"name":"(34400, 34600]"},{"x":34700,"y":0,"name":"(34600, 34800]"},{"x":34900,"y":0,"name":"(34800, 35000]"},{"x":35100,"y":0,"name":"(35000, 35200]"},{"x":35300,"y":0,"name":"(35200, 35400]"},{"x":35500,"y":0,"name":"(35400, 35600]"},{"x":35700,"y":0,"name":"(35600, 35800]"},{"x":35900,"y":0,"name":"(35800, 36000]"},{"x":36100,"y":0,"name":"(36000, 36200]"},{"x":36300,"y":0,"name":"(36200, 36400]"},{"x":36500,"y":0,"name":"(36400, 36600]"},{"x":36700,"y":0,"name":"(36600, 36800]"},{"x":36900,"y":0,"name":"(36800, 37000]"},{"x":37100,"y":0,"name":"(37000, 37200]"},{"x":37300,"y":0,"name":"(37200, 37400]"},{"x":37500,"y":0,"name":"(37400, 37600]"},{"x":37700,"y":0,"name":"(37600, 37800]"},{"x":37900,"y":0,"name":"(37800, 38000]"},{"x":38100,"y":0,"name":"(38000, 38200]"},{"x":38300,"y":0,"name":"(38200, 38400]"},{"x":38500,"y":0,"name":"(38400, 38600]"},{"x":38700,"y":0,"name":"(38600, 38800]"},{"x":38900,"y":0,"name":"(38800, 39000]"},{"x":39100,"y":0,"name":"(39000, 39200]"},{"x":39300,"y":0,"name":"(39200, 39400]"},{"x":39500,"y":0,"name":"(39400, 39600]"},{"x":39700,"y":0,"name":"(39600, 39800]"},{"x":39900,"y":0,"name":"(39800, 40000]"},{"x":40100,"y":0,"name":"(40000, 40200]"},{"x":40300,"y":0,"name":"(40200, 40400]"},{"x":40500,"y":0,"name":"(40400, 40600]"},{"x":40700,"y":0,"name":"(40600, 40800]"},{"x":40900,"y":0,"name":"(40800, 41000]"},{"x":41100,"y":0,"name":"(41000, 41200]"},{"x":41300,"y":0,"name":"(41200, 41400]"},{"x":41500,"y":0,"name":"(41400, 41600]"},{"x":41700,"y":0,"name":"(41600, 41800]"},{"x":41900,"y":0,"name":"(41800, 42000]"},{"x":42100,"y":1,"name":"(42000, 42200]"},{"x":42300,"y":0,"name":"(42200, 42400]"},{"x":42500,"y":0,"name":"(42400, 42600]"},{"x":42700,"y":0,"name":"(42600, 42800]"},{"x":42900,"y":0,"name":"(42800, 43000]"},{"x":43100,"y":0,"name":"(43000, 43200]"},{"x":43300,"y":0,"name":"(43200, 43400]"},{"x":43500,"y":0,"name":"(43400, 43600]"},{"x":43700,"y":0,"name":"(43600, 43800]"},{"x":43900,"y":0,"name":"(43800, 44000]"},{"x":44100,"y":0,"name":"(44000, 44200]"},{"x":44300,"y":0,"name":"(44200, 44400]"},{"x":44500,"y":0,"name":"(44400, 44600]"},{"x":44700,"y":0,"name":"(44600, 44800]"},{"x":44900,"y":0,"name":"(44800, 45000]"},{"x":45100,"y":0,"name":"(45000, 45200]"},{"x":45300,"y":0,"name":"(45200, 45400]"},{"x":45500,"y":0,"name":"(45400, 45600]"},{"x":45700,"y":0,"name":"(45600, 45800]"},{"x":45900,"y":0,"name":"(45800, 46000]"},{"x":46100,"y":0,"name":"(46000, 46200]"},{"x":46300,"y":0,"name":"(46200, 46400]"},{"x":46500,"y":0,"name":"(46400, 46600]"},{"x":46700,"y":0,"name":"(46600, 46800]"},{"x":46900,"y":0,"name":"(46800, 47000]"},{"x":47100,"y":0,"name":"(47000, 47200]"},{"x":47300,"y":0,"name":"(47200, 47400]"},{"x":47500,"y":0,"name":"(47400, 47600]"},{"x":47700,"y":0,"name":"(47600, 47800]"},{"x":47900,"y":0,"name":"(47800, 48000]"},{"x":48100,"y":0,"name":"(48000, 48200]"},{"x":48300,"y":0,"name":"(48200, 48400]"},{"x":48500,"y":0,"name":"(48400, 48600]"},{"x":48700,"y":0,"name":"(48600, 48800]"},{"x":48900,"y":0,"name":"(48800, 49000]"},{"x":49100,"y":0,"name":"(49000, 49200]"},{"x":49300,"y":0,"name":"(49200, 49400]"},{"x":49500,"y":0,"name":"(49400, 49600]"},{"x":49700,"y":0,"name":"(49600, 49800]"},{"x":49900,"y":0,"name":"(49800, 50000]"},{"x":50100,"y":0,"name":"(50000, 50200]"},{"x":50300,"y":0,"name":"(50200, 50400]"},{"x":50500,"y":0,"name":"(50400, 50600]"},{"x":50700,"y":0,"name":"(50600, 50800]"},{"x":50900,"y":0,"name":"(50800, 51000]"},{"x":51100,"y":0,"name":"(51000, 51200]"},{"x":51300,"y":0,"name":"(51200, 51400]"},{"x":51500,"y":0,"name":"(51400, 51600]"},{"x":51700,"y":0,"name":"(51600, 51800]"},{"x":51900,"y":0,"name":"(51800, 52000]"},{"x":52100,"y":0,"name":"(52000, 52200]"},{"x":52300,"y":0,"name":"(52200, 52400]"},{"x":52500,"y":0,"name":"(52400, 52600]"},{"x":52700,"y":0,"name":"(52600, 52800]"},{"x":52900,"y":0,"name":"(52800, 53000]"},{"x":53100,"y":0,"name":"(53000, 53200]"},{"x":53300,"y":0,"name":"(53200, 53400]"},{"x":53500,"y":0,"name":"(53400, 53600]"},{"x":53700,"y":0,"name":"(53600, 53800]"},{"x":53900,"y":0,"name":"(53800, 54000]"},{"x":54100,"y":0,"name":"(54000, 54200]"},{"x":54300,"y":0,"name":"(54200, 54400]"},{"x":54500,"y":0,"name":"(54400, 54600]"},{"x":54700,"y":0,"name":"(54600, 54800]"},{"x":54900,"y":0,"name":"(54800, 55000]"},{"x":55100,"y":0,"name":"(55000, 55200]"},{"x":55300,"y":0,"name":"(55200, 55400]"},{"x":55500,"y":0,"name":"(55400, 55600]"},{"x":55700,"y":0,"name":"(55600, 55800]"},{"x":55900,"y":0,"name":"(55800, 56000]"},{"x":56100,"y":0,"name":"(56000, 56200]"},{"x":56300,"y":0,"name":"(56200, 56400]"},{"x":56500,"y":0,"name":"(56400, 56600]"},{"x":56700,"y":0,"name":"(56600, 56800]"},{"x":56900,"y":0,"name":"(56800, 57000]"},{"x":57100,"y":0,"name":"(57000, 57200]"},{"x":57300,"y":0,"name":"(57200, 57400]"},{"x":57500,"y":0,"name":"(57400, 57600]"},{"x":57700,"y":0,"name":"(57600, 57800]"},{"x":57900,"y":0,"name":"(57800, 58000]"},{"x":58100,"y":0,"name":"(58000, 58200]"},{"x":58300,"y":0,"name":"(58200, 58400]"},{"x":58500,"y":0,"name":"(58400, 58600]"},{"x":58700,"y":0,"name":"(58600, 58800]"},{"x":58900,"y":0,"name":"(58800, 59000]"},{"x":59100,"y":0,"name":"(59000, 59200]"},{"x":59300,"y":0,"name":"(59200, 59400]"},{"x":59500,"y":0,"name":"(59400, 59600]"},{"x":59700,"y":0,"name":"(59600, 59800]"},{"x":59900,"y":0,"name":"(59800, 60000]"},{"x":60100,"y":0,"name":"(60000, 60200]"},{"x":60300,"y":0,"name":"(60200, 60400]"},{"x":60500,"y":0,"name":"(60400, 60600]"},{"x":60700,"y":0,"name":"(60600, 60800]"},{"x":60900,"y":0,"name":"(60800, 61000]"},{"x":61100,"y":0,"name":"(61000, 61200]"},{"x":61300,"y":0,"name":"(61200, 61400]"},{"x":61500,"y":0,"name":"(61400, 61600]"},{"x":61700,"y":0,"name":"(61600, 61800]"},{"x":61900,"y":0,"name":"(61800, 62000]"},{"x":62100,"y":0,"name":"(62000, 62200]"},{"x":62300,"y":0,"name":"(62200, 62400]"},{"x":62500,"y":0,"name":"(62400, 62600]"},{"x":62700,"y":0,"name":"(62600, 62800]"},{"x":62900,"y":0,"name":"(62800, 63000]"},{"x":63100,"y":0,"name":"(63000, 63200]"},{"x":63300,"y":0,"name":"(63200, 63400]"},{"x":63500,"y":0,"name":"(63400, 63600]"},{"x":63700,"y":0,"name":"(63600, 63800]"},{"x":63900,"y":0,"name":"(63800, 64000]"},{"x":64100,"y":0,"name":"(64000, 64200]"},{"x":64300,"y":0,"name":"(64200, 64400]"},{"x":64500,"y":0,"name":"(64400, 64600]"},{"x":64700,"y":0,"name":"(64600, 64800]"},{"x":64900,"y":0,"name":"(64800, 65000]"},{"x":65100,"y":0,"name":"(65000, 65200]"},{"x":65300,"y":0,"name":"(65200, 65400]"},{"x":65500,"y":0,"name":"(65400, 65600]"},{"x":65700,"y":0,"name":"(65600, 65800]"},{"x":65900,"y":0,"name":"(65800, 66000]"},{"x":66100,"y":0,"name":"(66000, 66200]"},{"x":66300,"y":0,"name":"(66200, 66400]"},{"x":66500,"y":0,"name":"(66400, 66600]"},{"x":66700,"y":0,"name":"(66600, 66800]"},{"x":66900,"y":0,"name":"(66800, 67000]"},{"x":67100,"y":0,"name":"(67000, 67200]"},{"x":67300,"y":0,"name":"(67200, 67400]"},{"x":67500,"y":0,"name":"(67400, 67600]"},{"x":67700,"y":0,"name":"(67600, 67800]"},{"x":67900,"y":0,"name":"(67800, 68000]"},{"x":68100,"y":0,"name":"(68000, 68200]"},{"x":68300,"y":0,"name":"(68200, 68400]"},{"x":68500,"y":0,"name":"(68400, 68600]"},{"x":68700,"y":0,"name":"(68600, 68800]"},{"x":68900,"y":0,"name":"(68800, 69000]"},{"x":69100,"y":0,"name":"(69000, 69200]"},{"x":69300,"y":0,"name":"(69200, 69400]"},{"x":69500,"y":0,"name":"(69400, 69600]"},{"x":69700,"y":0,"name":"(69600, 69800]"},{"x":69900,"y":0,"name":"(69800, 70000]"},{"x":70100,"y":0,"name":"(70000, 70200]"},{"x":70300,"y":0,"name":"(70200, 70400]"},{"x":70500,"y":0,"name":"(70400, 70600]"},{"x":70700,"y":0,"name":"(70600, 70800]"},{"x":70900,"y":0,"name":"(70800, 71000]"},{"x":71100,"y":1,"name":"(71000, 71200]"}],"type":"column","pointRange":200,"groupPadding":0,"pointPadding":0,"borderWidth":0}],"subtitle":{"text":"The most prevalent group is the one with balance between 0$ and 200$. The median balance is 444"},"caption":{"text":"Bank Marketing Dataset from UCI"},"legend":{"enabled":false},"xAxis":{"title":{"text":"Balance in $"},"max":10000}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":["hc_opts.tooltip.formatter"],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://jkunst.com/highcharter/reference/hchart.html">hchart</a></span><span class="op">(</span><span class="va">bank_dataset</span><span class="op">$</span><span class="va">duration</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_title.html">hc_title</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Διάρκεια κλήσης"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_subtitle.html">hc_subtitle</a></span><span class="op">(</span>text <span class="op">=</span> <span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"Οι περισσότερες καταθέσεις κυμαίνονται μεταξύ των 0$ και 200$ δολαρίων. Το διάμεσο υπόλοιπο λογαριασμού είναι {median(bank_dataset$balance)} $. Το 75ο τεταρτημόριο είναι τα 1480$, άρα το ένα τέταρτο των πελατών έχει καταθέσεις υψηλότερες αυτού του ποσού. Τα ύψη των λογαριασμών κυμαίνονται από {min(bank_dataset$balance)} μέχρι και τα {max(bank_dataset$balance)} $"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_caption.html">hc_caption</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Bank Marketing Dataset from UCI"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_tooltip.html">hc_tooltip</a></span><span class="op">(</span>pointFormat <span class="op">=</span> <span class="st">"{point.name}: {point.y}"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_legend.html">hc_legend</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_xAxis.html">hc_xAxis</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Διάρκεια κλήσης (σε δευτερόλεπτα)"</span><span class="op">)</span>,</span>
<span>    max <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-ddc8b0711a8fc9daa017" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-ddc8b0711a8fc9daa017">{"x":{"hc_opts":{"chart":{"reflow":true,"zoomType":"x"},"title":{"text":"Διάρκεια κλήσης"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"tooltip":{"formatter":"function() { return  this.point.name + '<br/>' + this.y; }","pointFormat":"{point.name}: {point.y}"},"series":[{"data":[{"x":10,"y":129,"name":"(0, 20]"},{"x":30,"y":164,"name":"(20, 40]"},{"x":50,"y":199,"name":"(40, 60]"},{"x":70,"y":285,"name":"(60, 80]"},{"x":90,"y":293,"name":"(80, 100]"},{"x":110,"y":309,"name":"(100, 120]"},{"x":130,"y":301,"name":"(120, 140]"},{"x":150,"y":291,"name":"(140, 160]"},{"x":170,"y":241,"name":"(160, 180]"},{"x":190,"y":218,"name":"(180, 200]"},{"x":210,"y":222,"name":"(200, 220]"},{"x":230,"y":184,"name":"(220, 240]"},{"x":250,"y":171,"name":"(240, 260]"},{"x":270,"y":131,"name":"(260, 280]"},{"x":290,"y":120,"name":"(280, 300]"},{"x":310,"y":87,"name":"(300, 320]"},{"x":330,"y":106,"name":"(320, 340]"},{"x":350,"y":90,"name":"(340, 360]"},{"x":370,"y":67,"name":"(360, 380]"},{"x":390,"y":78,"name":"(380, 400]"},{"x":410,"y":67,"name":"(400, 420]"},{"x":430,"y":51,"name":"(420, 440]"},{"x":450,"y":42,"name":"(440, 460]"},{"x":470,"y":44,"name":"(460, 480]"},{"x":490,"y":37,"name":"(480, 500]"},{"x":510,"y":39,"name":"(500, 520]"},{"x":530,"y":37,"name":"(520, 540]"},{"x":550,"y":38,"name":"(540, 560]"},{"x":570,"y":30,"name":"(560, 580]"},{"x":590,"y":28,"name":"(580, 600]"},{"x":610,"y":31,"name":"(600, 620]"},{"x":630,"y":26,"name":"(620, 640]"},{"x":650,"y":28,"name":"(640, 660]"},{"x":670,"y":28,"name":"(660, 680]"},{"x":690,"y":21,"name":"(680, 700]"},{"x":710,"y":16,"name":"(700, 720]"},{"x":730,"y":20,"name":"(720, 740]"},{"x":750,"y":22,"name":"(740, 760]"},{"x":770,"y":20,"name":"(760, 780]"},{"x":790,"y":13,"name":"(780, 800]"},{"x":810,"y":15,"name":"(800, 820]"},{"x":830,"y":8,"name":"(820, 840]"},{"x":850,"y":7,"name":"(840, 860]"},{"x":870,"y":9,"name":"(860, 880]"},{"x":890,"y":8,"name":"(880, 900]"},{"x":910,"y":8,"name":"(900, 920]"},{"x":930,"y":8,"name":"(920, 940]"},{"x":950,"y":9,"name":"(940, 960]"},{"x":970,"y":9,"name":"(960, 980]"},{"x":990,"y":9,"name":"(980, 1000]"},{"x":1010,"y":10,"name":"(1000, 1020]"},{"x":1030,"y":9,"name":"(1020, 1040]"},{"x":1050,"y":3,"name":"(1040, 1060]"},{"x":1070,"y":3,"name":"(1060, 1080]"},{"x":1090,"y":4,"name":"(1080, 1100]"},{"x":1110,"y":2,"name":"(1100, 1120]"},{"x":1130,"y":7,"name":"(1120, 1140]"},{"x":1150,"y":4,"name":"(1140, 1160]"},{"x":1170,"y":6,"name":"(1160, 1180]"},{"x":1190,"y":4,"name":"(1180, 1200]"},{"x":1210,"y":2,"name":"(1200, 1220]"},{"x":1230,"y":5,"name":"(1220, 1240]"},{"x":1250,"y":3,"name":"(1240, 1260]"},{"x":1270,"y":2,"name":"(1260, 1280]"},{"x":1290,"y":1,"name":"(1280, 1300]"},{"x":1310,"y":1,"name":"(1300, 1320]"},{"x":1330,"y":1,"name":"(1320, 1340]"},{"x":1350,"y":0,"name":"(1340, 1360]"},{"x":1370,"y":2,"name":"(1360, 1380]"},{"x":1390,"y":1,"name":"(1380, 1400]"},{"x":1410,"y":1,"name":"(1400, 1420]"},{"x":1430,"y":1,"name":"(1420, 1440]"},{"x":1450,"y":4,"name":"(1440, 1460]"},{"x":1470,"y":5,"name":"(1460, 1480]"},{"x":1490,"y":1,"name":"(1480, 1500]"},{"x":1510,"y":3,"name":"(1500, 1520]"},{"x":1530,"y":4,"name":"(1520, 1540]"},{"x":1550,"y":1,"name":"(1540, 1560]"},{"x":1570,"y":1,"name":"(1560, 1580]"},{"x":1590,"y":0,"name":"(1580, 1600]"},{"x":1610,"y":1,"name":"(1600, 1620]"},{"x":1630,"y":0,"name":"(1620, 1640]"},{"x":1650,"y":0,"name":"(1640, 1660]"},{"x":1670,"y":1,"name":"(1660, 1680]"},{"x":1690,"y":1,"name":"(1680, 1700]"},{"x":1710,"y":1,"name":"(1700, 1720]"},{"x":1730,"y":3,"name":"(1720, 1740]"},{"x":1750,"y":0,"name":"(1740, 1760]"},{"x":1770,"y":0,"name":"(1760, 1780]"},{"x":1790,"y":0,"name":"(1780, 1800]"},{"x":1810,"y":1,"name":"(1800, 1820]"},{"x":1830,"y":0,"name":"(1820, 1840]"},{"x":1850,"y":0,"name":"(1840, 1860]"},{"x":1870,"y":1,"name":"(1860, 1880]"},{"x":1890,"y":0,"name":"(1880, 1900]"},{"x":1910,"y":0,"name":"(1900, 1920]"},{"x":1930,"y":0,"name":"(1920, 1940]"},{"x":1950,"y":0,"name":"(1940, 1960]"},{"x":1970,"y":1,"name":"(1960, 1980]"},{"x":1990,"y":1,"name":"(1980, 2000]"},{"x":2010,"y":0,"name":"(2000, 2020]"},{"x":2030,"y":1,"name":"(2020, 2040]"},{"x":2050,"y":0,"name":"(2040, 2060]"},{"x":2070,"y":0,"name":"(2060, 2080]"},{"x":2090,"y":1,"name":"(2080, 2100]"},{"x":2110,"y":0,"name":"(2100, 2120]"},{"x":2130,"y":0,"name":"(2120, 2140]"},{"x":2150,"y":0,"name":"(2140, 2160]"},{"x":2170,"y":0,"name":"(2160, 2180]"},{"x":2190,"y":0,"name":"(2180, 2200]"},{"x":2210,"y":0,"name":"(2200, 2220]"},{"x":2230,"y":0,"name":"(2220, 2240]"},{"x":2250,"y":0,"name":"(2240, 2260]"},{"x":2270,"y":0,"name":"(2260, 2280]"},{"x":2290,"y":0,"name":"(2280, 2300]"},{"x":2310,"y":0,"name":"(2300, 2320]"},{"x":2330,"y":0,"name":"(2320, 2340]"},{"x":2350,"y":0,"name":"(2340, 2360]"},{"x":2370,"y":0,"name":"(2360, 2380]"},{"x":2390,"y":0,"name":"(2380, 2400]"},{"x":2410,"y":0,"name":"(2400, 2420]"},{"x":2430,"y":0,"name":"(2420, 2440]"},{"x":2450,"y":1,"name":"(2440, 2460]"},{"x":2470,"y":0,"name":"(2460, 2480]"},{"x":2490,"y":0,"name":"(2480, 2500]"},{"x":2510,"y":0,"name":"(2500, 2520]"},{"x":2530,"y":0,"name":"(2520, 2540]"},{"x":2550,"y":0,"name":"(2540, 2560]"},{"x":2570,"y":0,"name":"(2560, 2580]"},{"x":2590,"y":0,"name":"(2580, 2600]"},{"x":2610,"y":0,"name":"(2600, 2620]"},{"x":2630,"y":0,"name":"(2620, 2640]"},{"x":2650,"y":0,"name":"(2640, 2660]"},{"x":2670,"y":0,"name":"(2660, 2680]"},{"x":2690,"y":0,"name":"(2680, 2700]"},{"x":2710,"y":0,"name":"(2700, 2720]"},{"x":2730,"y":0,"name":"(2720, 2740]"},{"x":2750,"y":0,"name":"(2740, 2760]"},{"x":2770,"y":1,"name":"(2760, 2780]"},{"x":2790,"y":0,"name":"(2780, 2800]"},{"x":2810,"y":0,"name":"(2800, 2820]"},{"x":2830,"y":0,"name":"(2820, 2840]"},{"x":2850,"y":0,"name":"(2840, 2860]"},{"x":2870,"y":0,"name":"(2860, 2880]"},{"x":2890,"y":0,"name":"(2880, 2900]"},{"x":2910,"y":0,"name":"(2900, 2920]"},{"x":2930,"y":0,"name":"(2920, 2940]"},{"x":2950,"y":0,"name":"(2940, 2960]"},{"x":2970,"y":0,"name":"(2960, 2980]"},{"x":2990,"y":0,"name":"(2980, 3000]"},{"x":3010,"y":0,"name":"(3000, 3020]"},{"x":3030,"y":1,"name":"(3020, 3040]"}],"type":"column","pointRange":20,"groupPadding":0,"pointPadding":0,"borderWidth":0}],"subtitle":{"text":"Οι περισσότερες καταθέσεις κυμαίνονται μεταξύ των 0$ και 200$ δολαρίων. Το διάμεσο υπόλοιπο λογαριασμού είναι 444 $. Το 75ο τεταρτημόριο είναι τα 1480$, άρα το ένα τέταρτο των πελατών έχει καταθέσεις υψηλότερες αυτού του ποσού. Τα ύψη των λογαριασμών κυμαίνονται από -3313 μέχρι και τα 71188 $"},"caption":{"text":"Bank Marketing Dataset from UCI"},"legend":{"enabled":false},"xAxis":{"title":{"text":"Διάρκεια κλήσης (σε δευτερόλεπτα)"},"max":1000}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":["hc_opts.tooltip.formatter"],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s</span> <span class="op">=</span> <span class="va">bank_dataset</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>category <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">campaign</span> <span class="op">&gt;=</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">campaign</span> <span class="op">&lt;=</span> <span class="fl">7</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">campaign</span><span class="op">)</span>,</span>
<span>    <span class="va">campaign</span> <span class="op">&gt;</span> <span class="fl">7</span>              <span class="op">~</span> <span class="st">"8+"</span>,</span>
<span>    <span class="cn">TRUE</span>                   <span class="op">~</span> <span class="cn">NA_character_</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">category</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span>, <span class="st">"8+"</span><span class="op">)</span>, ordered <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://jkunst.com/highcharter/reference/hchart.html">hchart</a></span><span class="op">(</span><span class="va">s</span><span class="op">$</span><span class="va">category</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_title.html">hc_title</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Αριθμός προσεγγίσεων"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_subtitle.html">hc_subtitle</a></span><span class="op">(</span>text <span class="op">=</span> <span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"Οι περισσότερες καταθέσεις κυμαίνονται μεταξύ των 0€ και 200€ ευρώ. Το διάμεσο υπόλοιπο λογαριασμού είναι {median(bank_dataset$balance)} €. Το 75ο τεταρτημόριο είναι τα 1480€, άρα το ένα τέταρτο των πελατών έχει καταθέσεις υψηλότερες αυτού του ποσού. Τα ύψη των λογαριασμών κυμαίνονται από {min(bank_dataset$balance)} μέχρι και τα {max(bank_dataset$balance)} $"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_caption.html">hc_caption</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Bank Marketing Dataset from UCI"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_legend.html">hc_legend</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_xAxis.html">hc_xAxis</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Ύψος καταθέσεων σε ευρώ €"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-5ba1bb10f352c514d288" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-5ba1bb10f352c514d288">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Αριθμός προσεγγίσεων"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"xAxis":{"type":"category","title":{"text":"Ύψος καταθέσεων σε ευρώ €"}},"series":[{"data":[{"name":"1","y":1734},{"name":"2","y":1264},{"name":"3","y":558},{"name":"4","y":325},{"name":"5","y":167},{"name":"6","y":155},{"name":"7","y":75},{"name":"8+","y":243}],"type":"column"}],"subtitle":{"text":"Οι περισσότερες καταθέσεις κυμαίνονται μεταξύ των 0€ και 200€ ευρώ. Το διάμεσο υπόλοιπο λογαριασμού είναι 444 €. Το 75ο τεταρτημόριο είναι τα 1480€, άρα το ένα τέταρτο των πελατών έχει καταθέσεις υψηλότερες αυτού του ποσού. Τα ύψη των λογαριασμών κυμαίνονται από -3313 μέχρι και τα 71188 $"},"caption":{"text":"Bank Marketing Dataset from UCI"},"legend":{"enabled":false}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
</section></section><section id="bivariate-analysis" class="level2"><h2 class="anchored" data-anchor-id="bivariate-analysis">Bivariate analysis</h2>
<p>On the previous section I learned a lot about my dataset. Now, I have to reveal relationships between my variables. Visualizing those relationships will make it even easier to explain our results. In order to make the right plots on the right occasions I used the book “Datavis with R” (<a href="https://rkabacoff.github.io/datavis/Bivariate.html">Chapter 4 : Bivariate Graphs</a>).</p>
<section id="qualitative-variables-1" class="level3"><h3 class="anchored" data-anchor-id="qualitative-variables-1">Qualitative variables</h3>
<div class="tabset-margin-container"></div>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Job</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Marital status</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Education</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">Housing</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-5" role="tab" aria-controls="tabset-3-5" aria-selected="false">Loan</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-6" role="tab" aria-controls="tabset-3-6" aria-selected="false">Contact</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-7" role="tab" aria-controls="tabset-3-7" aria-selected="false">Month</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-8-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-8" role="tab" aria-controls="tabset-3-8" aria-selected="false">poutcome</a></li>
</ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">plotjob</span> <span class="op">&lt;-</span> <span class="va">bank_dataset</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">job</span>, <span class="va">y</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>pct <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fl">100</span><span class="op">*</span><span class="op">(</span><span class="va">n</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>         lbl <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/percent_format.html">percent</a></span><span class="op">(</span><span class="va">pct</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">pct</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#categories &lt;- unique(plotjob$job)</span></span>
<span></span>
<span><span class="co"># series_data &lt;- plotjob %&gt;%</span></span>
<span><span class="co">#     group_by(y) %&gt;%</span></span>
<span><span class="co">#     summarise(series = list(list(name = first(y), data = pct))) %&gt;%</span></span>
<span><span class="co">#     pull(series)</span></span>
<span></span>
<span><span class="fu"><a href="https://jkunst.com/highcharter/reference/highchart.html">highchart</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_chart.html">hc_chart</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"column"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_xAxis.html">hc_xAxis</a></span><span class="op">(</span>categories <span class="op">=</span> <span class="va">plotjob</span><span class="op">$</span><span class="va">job</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_yAxis.html">hc_yAxis</a></span><span class="op">(</span></span>
<span>    min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    max <span class="op">=</span> <span class="fl">100</span>,</span>
<span>    title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Percentage"</span><span class="op">)</span>,</span>
<span>    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>format <span class="op">=</span> <span class="st">"{value}%"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_plotOptions.html">hc_plotOptions</a></span><span class="op">(</span></span>
<span>    column <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      stacking <span class="op">=</span> <span class="st">"percent"</span>,</span>
<span>      dataLabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>        enabled <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        format <span class="op">=</span> <span class="st">"{point.y:.0f}%"</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_series.html">hc_series</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"No"</span>, data <span class="op">=</span> <span class="va">plotjob</span><span class="op">$</span><span class="va">pct</span><span class="op">[</span><span class="va">plotjob</span><span class="op">$</span><span class="va">y</span> <span class="op">==</span> <span class="st">"no"</span><span class="op">]</span>, color <span class="op">=</span> <span class="st">"#FF5733"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Yes"</span>, data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">plotjob</span><span class="op">$</span><span class="va">pct</span><span class="op">[</span><span class="va">plotjob</span><span class="op">$</span><span class="va">y</span> <span class="op">==</span> <span class="st">"yes"</span><span class="op">]</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"#33FF57"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_tooltip.html">hc_tooltip</a></span><span class="op">(</span>pointFormat <span class="op">=</span> <span class="st">"&lt;b&gt;{series.name}&lt;/b&gt;: {point.y}%"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_title.html">hc_title</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Job of Respondent by Interest to Term Deposit"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_subtitle.html">hc_subtitle</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Students and retirees are the population groups with a proportionally lower interest in term deposits compared to other groups."</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_responsive.html">hc_responsive</a></span><span class="op">(</span></span>
<span>    rules <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>        condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>          maxWidth <span class="op">=</span> <span class="fl">500</span> <span class="co"># Hide labels when screen width is ≤500px</span></span>
<span>        <span class="op">)</span>,</span>
<span>        chartOptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>          plotOptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>            column <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>              dataLabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># Disable labels</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-12b29624818c7f02c5f0" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-12b29624818c7f02c5f0">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"column"},"title":{"text":"Job of Respondent by Interest to Term Deposit"},"yAxis":{"title":{"text":"Percentage"},"min":0,"max":100,"labels":{"format":"{value}%"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"},"column":{"stacking":"percent","dataLabels":{"enabled":true,"format":"{point.y:.0f}%"}}},"xAxis":{"categories":["blue-collar","entrepreneur","services","unemployed","technician","self-employed","admin.","housemaid","management","unknown","student","retired","retired","student","unknown","management","housemaid","admin.","self-employed","technician","unemployed","services","entrepreneur","blue-collar"]},"series":[{"name":"No","data":[92.7,91.09999999999999,90.90000000000001,89.8,89.2,89.09999999999999,87.90000000000001,87.5,86.5,81.59999999999999,77.40000000000001,76.5],"color":"#FF5733"},{"name":"Yes","data":[7.3,8.9,9.1,10.2,10.8,10.9,12.1,12.5,13.5,18.4,22.6,23.5],"color":"#33FF57"}],"tooltip":{"pointFormat":"<b>{series.name}<\/b>: {point.y}%"},"subtitle":{"text":"Students and retirees are the population groups with a proportionally lower interest in term deposits compared to other groups."},"responsive":{"rules":[{"condition":{"maxWidth":500},"chartOptions":{"plotOptions":{"column":{"dataLabels":{"enabled":false}}}}}]}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">plotmarital</span> <span class="op">&lt;-</span> <span class="va">bank_dataset</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">marital</span>, <span class="va">y</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>pct <span class="op">=</span> <span class="va">n</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>,</span>
<span>         lbl <span class="op">=</span> <span class="va">pct</span> <span class="op">*</span><span class="fl">100</span> <span class="op">)</span> <span class="op">|&gt;</span></span>
<span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://jkunst.com/highcharter/reference/highchart.html">highchart</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_chart.html">hc_chart</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"column"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_xAxis.html">hc_xAxis</a></span><span class="op">(</span>categories <span class="op">=</span> <span class="va">plotmarital</span><span class="op">$</span><span class="va">marital</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_yAxis.html">hc_yAxis</a></span><span class="op">(</span></span>
<span>    min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    max <span class="op">=</span> <span class="fl">100</span>,</span>
<span>    title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Percentage"</span><span class="op">)</span>,</span>
<span>    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>format <span class="op">=</span> <span class="st">"{value}%"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_plotOptions.html">hc_plotOptions</a></span><span class="op">(</span></span>
<span>    column <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      stacking <span class="op">=</span> <span class="st">"percent"</span>,</span>
<span>      dataLabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>        enabled <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        format <span class="op">=</span> <span class="st">"{point.y:.0f}%"</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_series.html">hc_series</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Όχι"</span>, data <span class="op">=</span> <span class="va">plotmarital</span><span class="op">$</span><span class="va">lbl</span><span class="op">[</span><span class="va">plotmarital</span><span class="op">$</span><span class="va">y</span> <span class="op">==</span> <span class="st">"Όχι"</span><span class="op">]</span>, color <span class="op">=</span> <span class="st">"#FF5733"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Ναι"</span>, data <span class="op">=</span> <span class="va">plotmarital</span><span class="op">$</span><span class="va">lbl</span><span class="op">[</span><span class="va">plotmarital</span><span class="op">$</span><span class="va">y</span> <span class="op">==</span> <span class="st">"Ναι"</span><span class="op">]</span>, color <span class="op">=</span> <span class="st">"#33FF57"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_tooltip.html">hc_tooltip</a></span><span class="op">(</span>pointFormat <span class="op">=</span> <span class="st">"&lt;b&gt;{series.name}&lt;/b&gt;: {point.y:.2f}%"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_title.html">hc_title</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Marital Status by Interest to Term Deposit"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_subtitle.html">hc_subtitle</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Couples are less interested in comparison to singles / divorced people in term deposit accounts. The increased expenses of a hpusehold may averts people from maintaining a term deposit."</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_responsive.html">hc_responsive</a></span><span class="op">(</span></span>
<span>    rules <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>        condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>          maxWidth <span class="op">=</span> <span class="fl">500</span> <span class="co"># Hide labels when screen width is ≤500px</span></span>
<span>        <span class="op">)</span>,</span>
<span>        chartOptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>          plotOptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>            column <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>              dataLabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># Disable labels</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-cc66364a23fa6e831e6b" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-cc66364a23fa6e831e6b">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"column"},"title":{"text":"Marital Status by Interest to Term Deposit"},"yAxis":{"title":{"text":"Percentage"},"min":0,"max":100,"labels":{"format":"{value}%"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"},"column":{"stacking":"percent","dataLabels":{"enabled":true,"format":"{point.y:.0f}%"}}},"xAxis":{"categories":["divorced","married","single","divorced","married","single"]},"series":[{"name":"Όχι","data":[],"color":"#FF5733"},{"name":"Ναι","data":[],"color":"#33FF57"}],"tooltip":{"pointFormat":"<b>{series.name}<\/b>: {point.y:.2f}%"},"subtitle":{"text":"Couples are less interested in comparison to singles / divorced people in term deposit accounts. The increased expenses of a hpusehold may averts people from maintaining a term deposit."},"responsive":{"rules":[{"condition":{"maxWidth":500},"chartOptions":{"plotOptions":{"column":{"dataLabels":{"enabled":false}}}}}]}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">educdata</span> <span class="op">=</span> <span class="va">bank_dataset</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">education</span>, <span class="va">y</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>pct <span class="op">=</span> <span class="va">n</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://jkunst.com/highcharter/reference/highchart.html">highchart</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_chart.html">hc_chart</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"column"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_xAxis.html">hc_xAxis</a></span><span class="op">(</span>categories <span class="op">=</span> <span class="va">educdata</span><span class="op">$</span><span class="va">education</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_yAxis.html">hc_yAxis</a></span><span class="op">(</span></span>
<span>    min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    max <span class="op">=</span> <span class="fl">100</span>,</span>
<span>    title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Percentage"</span><span class="op">)</span>,</span>
<span>    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>format <span class="op">=</span> <span class="st">"{value}%"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_plotOptions.html">hc_plotOptions</a></span><span class="op">(</span></span>
<span>    column <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      stacking <span class="op">=</span> <span class="st">"percent"</span>,</span>
<span>      dataLabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>        enabled <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        format <span class="op">=</span> <span class="st">"{point.y:.0f}%"</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_series.html">hc_series</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"No"</span>, data <span class="op">=</span> <span class="va">educdata</span><span class="op">$</span><span class="va">pct</span><span class="op">[</span><span class="va">educdata</span><span class="op">$</span><span class="va">y</span> <span class="op">==</span> <span class="st">"no"</span><span class="op">]</span>, color <span class="op">=</span> <span class="st">"#FF5733"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Yes"</span>, data <span class="op">=</span> <span class="va">educdata</span><span class="op">$</span><span class="va">pct</span><span class="op">[</span><span class="va">educdata</span><span class="op">$</span><span class="va">y</span> <span class="op">==</span> <span class="st">"yes"</span><span class="op">]</span>, color <span class="op">=</span> <span class="st">"#33FF57"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_tooltip.html">hc_tooltip</a></span><span class="op">(</span>pointFormat <span class="op">=</span> <span class="st">"&lt;b&gt;{series.name}&lt;/b&gt;: {point.y:.2f}%"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_title.html">hc_title</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Education Level &amp; Interest to Term Deposit"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_subtitle.html">hc_subtitle</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"The more educated people tend to be more interested to new bank/finanial products. "</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_responsive.html">hc_responsive</a></span><span class="op">(</span></span>
<span>    rules <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>        condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>          maxWidth <span class="op">=</span> <span class="fl">500</span> <span class="co"># Hide labels when screen width is ≤500px</span></span>
<span>        <span class="op">)</span>,</span>
<span>        chartOptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>          plotOptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>            column <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>              dataLabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># Disable labels</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-d14caa010e9550452a6e" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-d14caa010e9550452a6e">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"column"},"title":{"text":"Education Level & Interest to Term Deposit"},"yAxis":{"title":{"text":"Percentage"},"min":0,"max":100,"labels":{"format":"{value}%"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"},"column":{"stacking":"percent","dataLabels":{"enabled":true,"format":"{point.y:.0f}%"}}},"xAxis":{"categories":["primary","secondary","tertiary","unknown","primary","secondary","tertiary","unknown"]},"series":[{"name":"No","data":[90.56047197640117,89.37554206418041,85.70370370370371,89.83957219251337],"color":"#FF5733"},{"name":"Yes","data":[9.43952802359882,10.6244579358196,14.2962962962963,10.16042780748663],"color":"#33FF57"}],"tooltip":{"pointFormat":"<b>{series.name}<\/b>: {point.y:.2f}%"},"subtitle":{"text":"The more educated people tend to be more interested to new bank/finanial products. "},"responsive":{"rules":[{"condition":{"maxWidth":500},"chartOptions":{"plotOptions":{"column":{"dataLabels":{"enabled":false}}}}}]}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">plot_housing2</span> <span class="op">=</span> <span class="va">bank_dataset</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">housing</span>, <span class="va">y</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>pct <span class="op">=</span> <span class="va">n</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'housing'. You can override using the
`.groups` argument.</code></pre>
</div>
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://jkunst.com/highcharter/reference/highchart.html">highchart</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_chart.html">hc_chart</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"column"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_xAxis.html">hc_xAxis</a></span><span class="op">(</span>categories <span class="op">=</span> <span class="va">plot_housing2</span><span class="op">$</span><span class="va">housing</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_yAxis.html">hc_yAxis</a></span><span class="op">(</span></span>
<span>    min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    max <span class="op">=</span> <span class="fl">100</span>,</span>
<span>    title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Percentage"</span><span class="op">)</span>,</span>
<span>    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>format <span class="op">=</span> <span class="st">"{value}%"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_plotOptions.html">hc_plotOptions</a></span><span class="op">(</span></span>
<span>    column <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      stacking <span class="op">=</span> <span class="st">"percent"</span>,</span>
<span>      dataLabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>        enabled <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        format <span class="op">=</span> <span class="st">"{point.y:.0f}%"</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_series.html">hc_series</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"No"</span>, data <span class="op">=</span> <span class="va">plot_housing2</span><span class="op">$</span><span class="va">pct</span><span class="op">[</span><span class="va">plot_housing2</span><span class="op">$</span><span class="va">y</span> <span class="op">==</span> <span class="st">"no"</span><span class="op">]</span>, color <span class="op">=</span> <span class="st">"#FF5733"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Yes"</span>, data <span class="op">=</span> <span class="va">plot_housing2</span><span class="op">$</span><span class="va">pct</span><span class="op">[</span><span class="va">plot_housing2</span><span class="op">$</span><span class="va">y</span> <span class="op">==</span> <span class="st">"yes"</span><span class="op">]</span>, color <span class="op">=</span> <span class="st">"#33FF57"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_tooltip.html">hc_tooltip</a></span><span class="op">(</span>pointFormat <span class="op">=</span> <span class="st">"&lt;b&gt;{series.name}&lt;/b&gt;: {point.y:.2f}%"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_title.html">hc_title</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Do you have housing loan?"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_subtitle.html">hc_subtitle</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"People without loans tend to open more willingly deposit accounts."</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_responsive.html">hc_responsive</a></span><span class="op">(</span></span>
<span>    rules <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>        condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>          maxWidth <span class="op">=</span> <span class="fl">500</span> <span class="co"># Hide labels when screen width is ≤500px</span></span>
<span>        <span class="op">)</span>,</span>
<span>        chartOptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>          plotOptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>            column <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>              dataLabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># Disable labels</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-fa83f621ce5374b29117" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-fa83f621ce5374b29117">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"column"},"title":{"text":"Do you have housing loan?"},"yAxis":{"title":{"text":"Percentage"},"min":0,"max":100,"labels":{"format":"{value}%"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"},"column":{"stacking":"percent","dataLabels":{"enabled":true,"format":"{point.y:.0f}%"}}},"xAxis":{"categories":["no","yes","no","yes"]},"series":[{"name":"No","data":[84.65851172273192,91.40289175459164],"color":"#FF5733"},{"name":"Yes","data":[15.34148827726809,8.597108245408362],"color":"#33FF57"}],"tooltip":{"pointFormat":"<b>{series.name}<\/b>: {point.y:.2f}%"},"subtitle":{"text":"People without loans tend to open more willingly deposit accounts."},"responsive":{"rules":[{"condition":{"maxWidth":500},"chartOptions":{"plotOptions":{"column":{"dataLabels":{"enabled":false}}}}}]}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-3-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-5-tab">
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">plot_loan</span> <span class="op">=</span> <span class="va">bank_dataset</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">loan</span>, <span class="va">y</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>pct <span class="op">=</span> <span class="va">n</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'loan'. You can override using the
`.groups` argument.</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://jkunst.com/highcharter/reference/highchart.html">highchart</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_chart.html">hc_chart</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"column"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_xAxis.html">hc_xAxis</a></span><span class="op">(</span>categories <span class="op">=</span> <span class="va">plot_loan</span><span class="op">$</span><span class="va">loan</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_yAxis.html">hc_yAxis</a></span><span class="op">(</span></span>
<span>    min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    max <span class="op">=</span> <span class="fl">100</span>,</span>
<span>    title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Percentage"</span><span class="op">)</span>,</span>
<span>    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>format <span class="op">=</span> <span class="st">"{value}%"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_plotOptions.html">hc_plotOptions</a></span><span class="op">(</span></span>
<span>    column <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      stacking <span class="op">=</span> <span class="st">"percent"</span>,</span>
<span>      dataLabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>        enabled <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>        format <span class="op">=</span> <span class="st">"{point.y:.0f}%"</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_series.html">hc_series</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"No"</span>, data <span class="op">=</span> <span class="va">plot_loan</span><span class="op">$</span><span class="va">pct</span><span class="op">[</span><span class="va">plot_loan</span><span class="op">$</span><span class="va">y</span> <span class="op">==</span> <span class="st">"no"</span><span class="op">]</span>, color <span class="op">=</span> <span class="st">"#FF5733"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Yes"</span>, data <span class="op">=</span> <span class="va">plot_loan</span><span class="op">$</span><span class="va">pct</span><span class="op">[</span><span class="va">plot_loan</span><span class="op">$</span><span class="va">y</span> <span class="op">==</span> <span class="st">"yes"</span><span class="op">]</span>, color <span class="op">=</span> <span class="st">"#33FF57"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_tooltip.html">hc_tooltip</a></span><span class="op">(</span>pointFormat <span class="op">=</span> <span class="st">"&lt;b&gt;{series.name}&lt;/b&gt;: {point.y:.2f}%"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_title.html">hc_title</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Do you have personal loan?"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_subtitle.html">hc_subtitle</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"People without loans tend to open more willingly deposit accounts."</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_responsive.html">hc_responsive</a></span><span class="op">(</span></span>
<span>    rules <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>        condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>          maxWidth <span class="op">=</span> <span class="fl">500</span> <span class="co"># Hide labels when screen width is ≤500px</span></span>
<span>        <span class="op">)</span>,</span>
<span>        chartOptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>          plotOptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>            column <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>              dataLabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># Disable labels</span></span>
<span>            <span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-d5c70f67e2796e8d2a28" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-d5c70f67e2796e8d2a28">{"x":{"hc_opts":{"chart":{"reflow":true,"type":"column"},"title":{"text":"Do you have personal loan?"},"yAxis":{"title":{"text":"Percentage"},"min":0,"max":100,"labels":{"format":"{value}%"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"},"column":{"stacking":"percent","dataLabels":{"enabled":true,"format":"{point.y:.0f}%"}}},"xAxis":{"categories":["no","yes","no","yes"]},"series":[{"name":"No","data":[87.51958224543081,93.77713458755427],"color":"#FF5733"},{"name":"Yes","data":[12.48041775456919,6.222865412445731],"color":"#33FF57"}],"tooltip":{"pointFormat":"<b>{series.name}<\/b>: {point.y:.2f}%"},"subtitle":{"text":"People without loans tend to open more willingly deposit accounts."},"responsive":{"rules":[{"condition":{"maxWidth":500},"chartOptions":{"plotOptions":{"column":{"dataLabels":{"enabled":false}}}}}]}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-3-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-6-tab">

</div>
<div id="tabset-3-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-7-tab">

</div>
<div id="tabset-3-8" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-8-tab">

</div>
</div>
</div>
</section><section id="quantitative-variables-1" class="level3"><h3 class="anchored" data-anchor-id="quantitative-variables-1">Quantitative variables</h3>
<div class="tabset-margin-container"></div>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Age</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Balance</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">Duration</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-4" role="tab" aria-controls="tabset-4-4" aria-selected="false">Campaign</a></li>
</ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://jkunst.com/highcharter/reference/data_to_boxplot.html">data_to_boxplot</a></span><span class="op">(</span><span class="va">bank_dataset</span>, <span class="va">age</span>, <span class="va">y</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://jkunst.com/highcharter/reference/highchart.html">highchart</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_xAxis.html">hc_xAxis</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"category"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_add_series_list.html">hc_add_series_list</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_title.html">hc_title</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Age &amp; Desire of Bank Deposit Account"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_subtitle.html">hc_subtitle</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"There are not significant demographic differences concerning people that choose to open term deposit accounts."</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_legend.html">hc_legend</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-ad83d64469b937638453" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-ad83d64469b937638453">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Age & Desire of Bank Deposit Account"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"xAxis":{"type":"category"},"series":[{"name":null,"data":[{"name":"no","low":19,"q1":33,"median":39,"q3":48,"high":70},{"name":"yes","low":19,"q1":32,"median":40,"q3":50,"high":77}],"id":null,"type":"boxplot"}],"subtitle":{"text":"There are not significant demographic differences concerning people that choose to open term deposit accounts."},"legend":{"enabled":false}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://jkunst.com/highcharter/reference/data_to_boxplot.html">data_to_boxplot</a></span><span class="op">(</span><span class="va">bank_dataset</span>, <span class="va">balance</span>, <span class="va">y</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://jkunst.com/highcharter/reference/highchart.html">highchart</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_xAxis.html">hc_xAxis</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"category"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_add_series_list.html">hc_add_series_list</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_title.html">hc_title</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Balance &amp; Desire of Bank Deposit Account"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_subtitle.html">hc_subtitle</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">""</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_legend.html">hc_legend</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-2452387972be3a56a671" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-2452387972be3a56a671">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Balance & Desire of Bank Deposit Account"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"xAxis":{"type":"category"},"series":[{"name":null,"data":[{"name":"no","low":-1746,"q1":61,"median":419.5,"q3":1407,"high":3419},{"name":"yes","low":-1206,"q1":171,"median":710,"q3":2160,"high":5106}],"id":null,"type":"boxplot"}],"subtitle":{"text":""},"legend":{"enabled":false}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">

</div>
<div id="tabset-4-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-4-tab">

</div>
</div>
</div>
</section></section></section><section id="building-model" class="level1"><h1>Building model</h1>
<p>In R there are two fairly well-known libraries when it comes to model generation, <a href="https://topepo.github.io/caret/">caret</a> and <a href="https://www.tidymodels.org/">tidymodels</a>. On one hand, caret is pretty simple to use, has lots of sources, guides, explanatory articles. On the other hand, tidymodels is an all-in-one solution but has less documentation, articles compared to caret.</p>
<section id="split-traintest-dataset" class="level2"><h2 class="anchored" data-anchor-id="split-traintest-dataset">Split train/test dataset</h2>
<p>Our first step is to split our dataset on 2 parts. Each of those will be used for a different purpose. The first part’s (train dataset) purpose is to build our model. The other part (test dataset) will be used to evaluate our model’s performance.</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">bank_dataset_split</span> <span class="op">&lt;-</span> <span class="fu">initial_split</span><span class="op">(</span><span class="va">bank_dataset</span>,</span>
<span>                                prop <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>                                strata <span class="op">=</span> <span class="va">y</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create training data</span></span>
<span><span class="va">bank_train</span> <span class="op">&lt;-</span> <span class="va">bank_dataset_split</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>                    <span class="fu">training</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create testing data</span></span>
<span><span class="va">bank_test</span> <span class="op">&lt;-</span> <span class="va">bank_dataset_split</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>                    <span class="fu">testing</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<center>
<div class="cell" data-layout-align="default">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>graph TD;</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  A(Data) --&gt; B(Train Dataset &lt;br&gt; 3390 obs.)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  A(Data) --&gt; C(Test  Dataset &lt;br&gt; 1131 obs.)</span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div>
<p></p>
<figure class="figure"></figure><p></p>
<div>
<pre class="mermaid mermaid-js">graph TD;
  A(Data) --&gt; B(Train Dataset &lt;br&gt; 3390 obs.)
  A(Data) --&gt; C(Test  Dataset &lt;br&gt; 1131 obs.)
</pre>
</div>
<p></p>
</div>
</div>
</div>
</center>
<div class="tabset-margin-container"></div>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Train dataset</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Test dataset</a></li>
</ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">bank_train</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span>toprule <span class="op">=</span> <span class="cn">T</span>,align <span class="op">=</span> <span class="st">'c'</span>,booktabs <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">F</span>, position <span class="op">=</span> <span class="st">"center"</span>, html_font <span class="op">=</span> <span class="st">"Cambria"</span><span class="op">)</span> </span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<table class="table caption-top table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">ID</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">age</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">job</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">marital</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">education</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">default</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">balance</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">housing</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">loan</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">contact</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">day</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">month</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">duration</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">campaign</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">pdays</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">previous</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">poutcome</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">y</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">30</td>
<td style="text-align: center;">unemployed</td>
<td style="text-align: center;">married</td>
<td style="text-align: center;">primary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">1787</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">cellular</td>
<td style="text-align: center;">19</td>
<td style="text-align: center;">oct</td>
<td style="text-align: center;">79</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">-1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">no</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">33</td>
<td style="text-align: center;">services</td>
<td style="text-align: center;">married</td>
<td style="text-align: center;">secondary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">4789</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">cellular</td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">may</td>
<td style="text-align: center;">220</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">339</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">failure</td>
<td style="text-align: center;">no</td>
</tr>
<tr class="odd">
<td style="text-align: center;">4</td>
<td style="text-align: center;">30</td>
<td style="text-align: center;">management</td>
<td style="text-align: center;">married</td>
<td style="text-align: center;">tertiary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">1476</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">jun</td>
<td style="text-align: center;">199</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">-1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">no</td>
</tr>
<tr class="even">
<td style="text-align: center;">5</td>
<td style="text-align: center;">59</td>
<td style="text-align: center;">blue-collar</td>
<td style="text-align: center;">married</td>
<td style="text-align: center;">secondary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">may</td>
<td style="text-align: center;">226</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">-1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">no</td>
</tr>
<tr class="odd">
<td style="text-align: center;">7</td>
<td style="text-align: center;">36</td>
<td style="text-align: center;">self-employed</td>
<td style="text-align: center;">married</td>
<td style="text-align: center;">tertiary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">307</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">cellular</td>
<td style="text-align: center;">14</td>
<td style="text-align: center;">may</td>
<td style="text-align: center;">341</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">330</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">other</td>
<td style="text-align: center;">no</td>
</tr>
<tr class="even">
<td style="text-align: center;">8</td>
<td style="text-align: center;">39</td>
<td style="text-align: center;">technician</td>
<td style="text-align: center;">married</td>
<td style="text-align: center;">secondary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">147</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">cellular</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">may</td>
<td style="text-align: center;">151</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">-1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">no</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">bank_test</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span>toprule <span class="op">=</span> <span class="cn">T</span>,align <span class="op">=</span> <span class="st">'c'</span>,booktabs <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">F</span>, position <span class="op">=</span> <span class="st">"center"</span>, html_font <span class="op">=</span> <span class="st">"Cambria"</span><span class="op">)</span> </span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<table class="table caption-top table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">ID</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">age</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">job</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">marital</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">education</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">default</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">balance</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">housing</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">loan</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">contact</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">day</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">month</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">duration</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">campaign</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">pdays</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">previous</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">poutcome</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">y</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">35</td>
<td style="text-align: center;">management</td>
<td style="text-align: center;">single</td>
<td style="text-align: center;">tertiary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">1350</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">cellular</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;">apr</td>
<td style="text-align: center;">185</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">330</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">failure</td>
<td style="text-align: center;">no</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
<td style="text-align: center;">35</td>
<td style="text-align: center;">management</td>
<td style="text-align: center;">single</td>
<td style="text-align: center;">tertiary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">747</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">cellular</td>
<td style="text-align: center;">23</td>
<td style="text-align: center;">feb</td>
<td style="text-align: center;">141</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">176</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">failure</td>
<td style="text-align: center;">no</td>
</tr>
<tr class="odd">
<td style="text-align: center;">15</td>
<td style="text-align: center;">31</td>
<td style="text-align: center;">blue-collar</td>
<td style="text-align: center;">married</td>
<td style="text-align: center;">secondary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">360</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">cellular</td>
<td style="text-align: center;">29</td>
<td style="text-align: center;">jan</td>
<td style="text-align: center;">89</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">241</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">failure</td>
<td style="text-align: center;">no</td>
</tr>
<tr class="even">
<td style="text-align: center;">23</td>
<td style="text-align: center;">44</td>
<td style="text-align: center;">services</td>
<td style="text-align: center;">single</td>
<td style="text-align: center;">secondary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">106</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;">jun</td>
<td style="text-align: center;">109</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">-1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">no</td>
</tr>
<tr class="odd">
<td style="text-align: center;">51</td>
<td style="text-align: center;">45</td>
<td style="text-align: center;">blue-collar</td>
<td style="text-align: center;">divorced</td>
<td style="text-align: center;">primary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">844</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">jun</td>
<td style="text-align: center;">1018</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">-1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">52</td>
<td style="text-align: center;">37</td>
<td style="text-align: center;">technician</td>
<td style="text-align: center;">single</td>
<td style="text-align: center;">secondary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">228</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">cellular</td>
<td style="text-align: center;">20</td>
<td style="text-align: center;">aug</td>
<td style="text-align: center;">1740</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">-1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">no</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</section><section id="recipes" class="level2"><h2 class="anchored" data-anchor-id="recipes">Recipes</h2>
<p>An important part in the process of model building is preprocessing. Depending of model type and data structure, I have to do the necessary changes. The <em>tidymodels</em> offers some ready-made preprocessing functions which make the whole process piece of cake.</p>
<p>In instance, the dataset I am working right now has imbalanced response variable (term deposit interest). For that reason, I used the recipe <code><a href="https://themis.tidymodels.org/reference/step_smote.html">step_smote()</a></code> from <em>themis</em> package.</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">bank_recipe</span> <span class="op">&lt;-</span> <span class="fu">recipes</span><span class="fu">::</span><span class="fu"><a href="https://recipes.tidymodels.org/reference/recipe.html">recipe</a></span><span class="op">(</span><span class="va">y</span><span class="op">~</span><span class="va">.</span>, </span>
<span>                               data <span class="op">=</span> <span class="va">bank_train</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://recipes.tidymodels.org/reference/step_rm.html">step_rm</a></span><span class="op">(</span><span class="va">poutcome</span>, <span class="va">ID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://recipes.tidymodels.org/reference/step_corr.html">step_corr</a></span><span class="op">(</span><span class="fu"><a href="https://recipes.tidymodels.org/reference/has_role.html">all_numeric</a></span><span class="op">(</span><span class="op">)</span>, threshold <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://recipes.tidymodels.org/reference/step_dummy.html">step_dummy</a></span><span class="op">(</span><span class="fu"><a href="https://recipes.tidymodels.org/reference/has_role.html">all_nominal</a></span><span class="op">(</span><span class="op">)</span>, <span class="op">-</span><span class="fu"><a href="https://recipes.tidymodels.org/reference/has_role.html">all_outcomes</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://recipes.tidymodels.org/reference/prep.html">prep</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://themis.tidymodels.org/reference/step_smote.html">step_smote</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://recipes.tidymodels.org/reference/prep.html">prep</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<p>Let’s preview our dataset after applying our recipes :</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">bank_recipe</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://recipes.tidymodels.org/reference/prep.html">prep</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://recipes.tidymodels.org/reference/juice.html">juice</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">F</span>, position <span class="op">=</span> <span class="st">"center"</span>, html_font <span class="op">=</span> <span class="st">"Cambria"</span><span class="op">)</span> </span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div id="tbl-recipes-df" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-recipes-df-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 2: Dataset after <code>recipes</code>
</figcaption><div aria-describedby="tbl-recipes-df-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table do-not-create-environment cell caption-top table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">age</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">balance</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">day</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">duration</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">campaign</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">pdays</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">previous</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">job_blue.collar</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">job_entrepreneur</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">job_housemaid</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">job_management</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">job_retired</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">job_self.employed</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">job_services</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">job_student</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">job_technician</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">job_unemployed</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">job_unknown</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">marital_married</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">marital_single</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">education_secondary</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">education_tertiary</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">education_unknown</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">default_yes</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">housing_yes</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">loan_yes</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">contact_telephone</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">contact_unknown</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">month_aug</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">month_dec</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">month_feb</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">month_jan</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">month_jul</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">month_jun</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">month_mar</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">month_may</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">month_nov</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">month_oct</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">month_sep</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">y</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">30</td>
<td style="text-align: right;">1787</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">79</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">no</td>
</tr>
<tr class="even">
<td style="text-align: right;">33</td>
<td style="text-align: right;">4789</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">220</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">339</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">no</td>
</tr>
<tr class="odd">
<td style="text-align: right;">30</td>
<td style="text-align: right;">1476</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">199</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">no</td>
</tr>
<tr class="even">
<td style="text-align: right;">59</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">226</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">no</td>
</tr>
<tr class="odd">
<td style="text-align: right;">36</td>
<td style="text-align: right;">307</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">341</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">330</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">no</td>
</tr>
<tr class="even">
<td style="text-align: right;">39</td>
<td style="text-align: right;">147</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">151</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">no</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section><section id="create-validation-set" class="level2"><h2 class="anchored" data-anchor-id="create-validation-set">Create validation set</h2>
<blockquote class="blockquote">
<p>So, how good is the model? Not so fast…</p>
</blockquote>
<p>We could actually build the model and evaluate its performance. The problem with that approach is the sample.</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cv_folds</span> <span class="op">&lt;-</span> <span class="fu">recipes</span><span class="fu">::</span><span class="fu"><a href="https://recipes.tidymodels.org/reference/bake.html">bake</a></span><span class="op">(</span></span>
<span>  <span class="va">bank_recipe</span>,</span>
<span>  new_data <span class="op">=</span> <span class="va">bank_train</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">rsample</span><span class="fu">::</span><span class="fu"><a href="https://rsample.tidymodels.org/reference/vfold_cv.html">vfold_cv</a></span><span class="op">(</span>v <span class="op">=</span> <span class="fl">5</span>, strata <span class="op">=</span> <span class="va">y</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
</section><section id="specify-models" class="level2"><h2 class="anchored" data-anchor-id="specify-models">Specify models</h2>
<p>Next, parsnip helps us to specify our models. Initially, I will define a LightGBM model,</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">lightgbm_model</span><span class="op">&lt;-</span> <span class="fu">parsnip</span><span class="fu">::</span><span class="fu"><a href="https://parsnip.tidymodels.org/reference/boost_tree.html">boost_tree</a></span><span class="op">(</span></span>
<span> mode <span class="op">=</span> <span class="st">"classification"</span>,</span>
<span> trees <span class="op">=</span> <span class="fl">50</span>,</span>
<span> min_n <span class="op">=</span> <span class="fu"><a href="https://hardhat.tidymodels.org/reference/tune.html">tune</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span> learn_rate <span class="op">=</span> <span class="fu"><a href="https://hardhat.tidymodels.org/reference/tune.html">tune</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span> tree_depth <span class="op">=</span> <span class="fu"><a href="https://hardhat.tidymodels.org/reference/tune.html">tune</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://parsnip.tidymodels.org/reference/set_engine.html">set_engine</a></span><span class="op">(</span><span class="st">"lightgbm"</span>, loss_function <span class="op">=</span> <span class="st">"squarederror"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<p>and an XGBoost one.</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">xgboost_model</span><span class="op">&lt;-</span> <span class="fu">parsnip</span><span class="fu">::</span><span class="fu"><a href="https://parsnip.tidymodels.org/reference/boost_tree.html">boost_tree</a></span><span class="op">(</span></span>
<span> mode <span class="op">=</span> <span class="st">"classification"</span>,</span>
<span> trees <span class="op">=</span> <span class="fl">50</span>,</span>
<span> min_n <span class="op">=</span> <span class="fu"><a href="https://hardhat.tidymodels.org/reference/tune.html">tune</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span> learn_rate <span class="op">=</span> <span class="fu"><a href="https://hardhat.tidymodels.org/reference/tune.html">tune</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span> tree_depth <span class="op">=</span> <span class="fu"><a href="https://hardhat.tidymodels.org/reference/tune.html">tune</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span> <span class="fu"><a href="https://parsnip.tidymodels.org/reference/set_engine.html">set_engine</a></span><span class="op">(</span><span class="st">"xgboost"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
</section><section id="hyperparameters-tuning" class="level2"><h2 class="anchored" data-anchor-id="hyperparameters-tuning">Hyperparameters tuning</h2>
<p>Now, we are specifying the hyperpaterers’ values and a grid to check which combination of those are performing better according to our desired metric (in our case ROC). This has to be done for both, LightGBM</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">lightgbm_params</span> <span class="op">&lt;-</span> <span class="fu">dials</span><span class="fu">::</span><span class="fu"><a href="https://dials.tidymodels.org/reference/parameters.html">parameters</a></span><span class="op">(</span></span>
<span> <span class="fu">min_n</span><span class="op">(</span><span class="op">)</span>,</span>
<span> <span class="fu">tree_depth</span><span class="op">(</span>range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span>
<span> <span class="fu">learn_rate</span><span class="op">(</span><span class="op">)</span> <span class="co"># learning rate</span></span>
<span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">lightgbm_grid</span> <span class="op">&lt;-</span> <span class="fu">dials</span><span class="fu">::</span><span class="fu"><a href="https://dials.tidymodels.org/reference/grid_max_entropy.html">grid_max_entropy</a></span><span class="op">(</span></span>
<span> <span class="va">lightgbm_params</span>,</span>
<span> size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">lightgbm_grid</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span>toprule <span class="op">=</span> <span class="cn">T</span>,align <span class="op">=</span> <span class="st">'c'</span>,booktabs <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">F</span>, position <span class="op">=</span> <span class="st">"center"</span>, html_font <span class="op">=</span> <span class="st">"Cambria"</span><span class="op">)</span> </span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<table class="table caption-top table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">min_n</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">tree_depth</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">learn_rate</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: center;">3</td>
<td style="text-align: center;">7</td>
<td style="text-align: center;">0.0000</td>
</tr>
<tr class="odd">
<td style="text-align: center;">11</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: center;">33</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">0.0787</td>
</tr>
<tr class="odd">
<td style="text-align: center;">10</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0116</td>
</tr>
<tr class="even">
<td style="text-align: center;">31</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">0.0000</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>and XGBoost.</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">xgboost_params</span> <span class="op">&lt;-</span> <span class="fu">dials</span><span class="fu">::</span><span class="fu"><a href="https://dials.tidymodels.org/reference/parameters.html">parameters</a></span><span class="op">(</span></span>
<span> <span class="fu">min_n</span><span class="op">(</span><span class="op">)</span>,</span>
<span> <span class="fu">tree_depth</span><span class="op">(</span>range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span>
<span> <span class="fu">learn_rate</span><span class="op">(</span><span class="op">)</span> <span class="co"># learning rate</span></span>
<span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">xgboost_grid</span> <span class="op">&lt;-</span> <span class="fu">dials</span><span class="fu">::</span><span class="fu"><a href="https://dials.tidymodels.org/reference/grid_max_entropy.html">grid_max_entropy</a></span><span class="op">(</span></span>
<span>  <span class="va">xgboost_params</span>,</span>
<span>  size <span class="op">=</span> <span class="fl">10</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">xgboost_grid</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span>toprule <span class="op">=</span> <span class="cn">T</span>,align <span class="op">=</span> <span class="st">'c'</span>,booktabs <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">F</span>, position <span class="op">=</span> <span class="st">"center"</span>, html_font <span class="op">=</span> <span class="st">"Cambria"</span><span class="op">)</span> </span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<table class="table caption-top table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">min_n</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">tree_depth</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">learn_rate</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">0.0000</td>
</tr>
<tr class="odd">
<td style="text-align: center;">37</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0000</td>
</tr>
<tr class="odd">
<td style="text-align: center;">21</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">0.0057</td>
</tr>
<tr class="even">
<td style="text-align: center;">21</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0472</td>
</tr>
</tbody>
</table>
</div>
</div>
</section><section id="fit-resamples" class="level2"><h2 class="anchored" data-anchor-id="fit-resamples">Fit resamples</h2>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># build workflow for LightGBM</span></span>
<span></span>
<span><span class="va">lightgbm_workflow</span> <span class="op">&lt;-</span> <span class="fu">workflows</span><span class="fu">::</span><span class="fu"><a href="https://workflows.tidymodels.org/reference/workflow.html">workflow</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span> <span class="fu">add_model</span><span class="op">(</span><span class="va">lightgbm_model</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span> <span class="fu">add_formula</span><span class="op">(</span><span class="va">y</span> <span class="op">~</span><span class="va">.</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># build workflow for XGBoost</span></span>
<span></span>
<span><span class="va">xgboost_workflow</span> <span class="op">&lt;-</span> <span class="fu">workflows</span><span class="fu">::</span><span class="fu"><a href="https://workflows.tidymodels.org/reference/workflow.html">workflow</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">add_model</span><span class="op">(</span><span class="va">xgboost_model</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">add_formula</span><span class="op">(</span><span class="va">y</span><span class="op">~</span><span class="va">.</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<p>Finally, we can build the LightGBM model by combining :</p>
<ul>
<li>The workflows we set it up above</li>
<li>The resamples</li>
<li>Grid of values (hyperparameters)</li>
<li>Metric based on which we will evaluate our model’s performance</li>
</ul>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">start_time_lightgbm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lightgbm_tuned_model</span> <span class="op">&lt;-</span> <span class="fu">tune</span><span class="fu">::</span><span class="fu"><a href="https://tune.tidymodels.org/reference/tune_grid.html">tune_grid</a></span><span class="op">(</span></span>
<span> object <span class="op">=</span> <span class="va">lightgbm_workflow</span>,</span>
<span> resamples <span class="op">=</span> <span class="va">cv_folds</span>,</span>
<span> metrics <span class="op">=</span> <span class="fu">metric_set</span><span class="op">(</span><span class="va">roc_auc</span>, <span class="va">accuracy</span><span class="op">)</span>,</span>
<span> grid <span class="op">=</span> <span class="va">lightgbm_grid</span>,</span>
<span> control <span class="op">=</span> <span class="fu">tune</span><span class="fu">::</span><span class="fu"><a href="https://tune.tidymodels.org/reference/control_grid.html">control_grid</a></span><span class="op">(</span>verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># set this to TRUE to see</span></span>
<span> <span class="co"># in what step of the process you are. But that doesn't look that well in</span></span>
<span> <span class="co"># a blog.</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">end_time_lightgbm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">time_lightgbm</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/difftime.html">difftime</a></span><span class="op">(</span><span class="va">end_time_lightgbm</span>,<span class="va">start_time_lightgbm</span>,units <span class="op">=</span> <span class="st">"secs"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<p>Similarly, for XGBoost.</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">start_time_xgboost</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">xgboost_tuned_model</span> <span class="op">&lt;-</span> <span class="fu">tune</span><span class="fu">::</span><span class="fu"><a href="https://tune.tidymodels.org/reference/tune_grid.html">tune_grid</a></span><span class="op">(</span></span>
<span> object <span class="op">=</span> <span class="va">xgboost_workflow</span>,</span>
<span> resamples <span class="op">=</span> <span class="va">cv_folds</span>,</span>
<span> metrics <span class="op">=</span> <span class="fu">metric_set</span><span class="op">(</span><span class="va">roc_auc</span>, <span class="va">accuracy</span><span class="op">)</span>,</span>
<span> grid <span class="op">=</span> <span class="va">xgboost_grid</span>,</span>
<span> control <span class="op">=</span> <span class="fu">tune</span><span class="fu">::</span><span class="fu"><a href="https://tune.tidymodels.org/reference/control_grid.html">control_grid</a></span><span class="op">(</span>verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># set this to TRUE to see</span></span>
<span> <span class="co"># in what step of the process you are. But that doesn't look that well in</span></span>
<span> <span class="co"># a blog.</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">end_time_xgboost</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">time_xgboost</span><span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/difftime.html">difftime</a></span><span class="op">(</span><span class="va">end_time_xgboost</span>,<span class="va">start_time_xgboost</span>,units <span class="op">=</span> <span class="st">"secs"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
</section><section id="evaluate-model" class="level2"><h2 class="anchored" data-anchor-id="evaluate-model">Evaluate model</h2>
<p>Our first results based on resamples for LightGBM</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">lightgbm_tuned_model</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">show_best</span><span class="op">(</span><span class="va">.</span>, metric <span class="op">=</span> <span class="st">"roc_auc"</span>, n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span>toprule <span class="op">=</span> <span class="cn">T</span>,align <span class="op">=</span> <span class="st">'c'</span>,booktabs <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">F</span>, position <span class="op">=</span> <span class="st">"center"</span>, html_font <span class="op">=</span> <span class="st">"Cambria"</span><span class="op">)</span> </span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<table class="table caption-top table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">min_n</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">tree_depth</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">learn_rate</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">.metric</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">.estimator</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">mean</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">std_err</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">.config</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">16</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">0.0646</td>
<td style="text-align: center;">roc_auc</td>
<td style="text-align: center;">binary</td>
<td style="text-align: center;">0.9001</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0022</td>
<td style="text-align: center;">Preprocessor1_Model10</td>
</tr>
<tr class="even">
<td style="text-align: center;">33</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">0.0787</td>
<td style="text-align: center;">roc_auc</td>
<td style="text-align: center;">binary</td>
<td style="text-align: center;">0.8921</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0021</td>
<td style="text-align: center;">Preprocessor1_Model04</td>
</tr>
<tr class="odd">
<td style="text-align: center;">10</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0116</td>
<td style="text-align: center;">roc_auc</td>
<td style="text-align: center;">binary</td>
<td style="text-align: center;">0.8775</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0037</td>
<td style="text-align: center;">Preprocessor1_Model05</td>
</tr>
<tr class="even">
<td style="text-align: center;">34</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">0.0006</td>
<td style="text-align: center;">roc_auc</td>
<td style="text-align: center;">binary</td>
<td style="text-align: center;">0.8653</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0035</td>
<td style="text-align: center;">Preprocessor1_Model07</td>
</tr>
<tr class="odd">
<td style="text-align: center;">31</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">0.0000</td>
<td style="text-align: center;">roc_auc</td>
<td style="text-align: center;">binary</td>
<td style="text-align: center;">0.8580</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0088</td>
<td style="text-align: center;">Preprocessor1_Model06</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>and XGBoost</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">xgboost_tuned_model</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">show_best</span><span class="op">(</span><span class="va">.</span>, metric <span class="op">=</span> <span class="st">"roc_auc"</span>, n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span>toprule <span class="op">=</span> <span class="cn">T</span>,align <span class="op">=</span> <span class="st">'c'</span>,booktabs <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">F</span>, position <span class="op">=</span> <span class="st">"center"</span>, html_font <span class="op">=</span> <span class="st">"Cambria"</span><span class="op">)</span> </span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<table class="table caption-top table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">min_n</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">tree_depth</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">learn_rate</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">.metric</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">.estimator</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">mean</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">std_err</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">.config</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">21</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0472</td>
<td style="text-align: center;">roc_auc</td>
<td style="text-align: center;">binary</td>
<td style="text-align: center;">0.8748</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0030</td>
<td style="text-align: center;">Preprocessor1_Model06</td>
</tr>
<tr class="even">
<td style="text-align: center;">21</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">0.0057</td>
<td style="text-align: center;">roc_auc</td>
<td style="text-align: center;">binary</td>
<td style="text-align: center;">0.8552</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0026</td>
<td style="text-align: center;">Preprocessor1_Model05</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">0.0000</td>
<td style="text-align: center;">roc_auc</td>
<td style="text-align: center;">binary</td>
<td style="text-align: center;">0.8290</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0074</td>
<td style="text-align: center;">Preprocessor1_Model01</td>
</tr>
<tr class="even">
<td style="text-align: center;">40</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0002</td>
<td style="text-align: center;">roc_auc</td>
<td style="text-align: center;">binary</td>
<td style="text-align: center;">0.8285</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0061</td>
<td style="text-align: center;">Preprocessor1_Model08</td>
</tr>
<tr class="odd">
<td style="text-align: center;">19</td>
<td style="text-align: center;">7</td>
<td style="text-align: center;">0.0000</td>
<td style="text-align: center;">roc_auc</td>
<td style="text-align: center;">binary</td>
<td style="text-align: center;">0.8242</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">0.0077</td>
<td style="text-align: center;">Preprocessor1_Model07</td>
</tr>
</tbody>
</table>
</div>
</div>
</section><section id="last-fit" class="level2"><h2 class="anchored" data-anchor-id="last-fit">Last fit</h2>
<p>By now we can assess which is the best combination of values. Given those I will assess my model’s performance on unknown (to my model) data. LightGBM model has 0.8469 ROC-value</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">last_fit_lightgbm_model</span> <span class="op">=</span> <span class="fu">parsnip</span><span class="fu">::</span><span class="fu"><a href="https://parsnip.tidymodels.org/reference/boost_tree.html">boost_tree</a></span><span class="op">(</span></span>
<span> mode <span class="op">=</span> <span class="st">"classification"</span>,</span>
<span> trees <span class="op">=</span> <span class="fl">100</span>,</span>
<span> min_n <span class="op">=</span> <span class="fl">33</span>,</span>
<span> learn_rate <span class="op">=</span> <span class="fl">0.0787</span>,</span>
<span> tree_depth <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://parsnip.tidymodels.org/reference/set_engine.html">set_engine</a></span><span class="op">(</span><span class="st">"lightgbm"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">## TODO</span></span>
<span><span class="co"># options(digits = 4)</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># last_fit_workflow &lt;- lightgbm_workflow %&gt;% </span></span>
<span><span class="co">#   update_model(last_fit_lightgbm_model)</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># last_lightgbm_fit &lt;- </span></span>
<span><span class="co">#   last_fit_workflow %&gt;% </span></span>
<span><span class="co">#   last_fit(bank_dataset_split)</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># last_lightgbm_fit %&gt;% </span></span>
<span><span class="co">#   collect_metrics() %&gt;%</span></span>
<span><span class="co">#   kbl(toprule = T,align = 'c',booktabs = T)  %&gt;%</span></span>
<span><span class="co">#   kable_styling(full_width = F, position = "center", html_font = "Cambria") </span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<p>and XGBoost, 0.8736.</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">last_fit_xgboost_model</span> <span class="op">=</span> <span class="fu">parsnip</span><span class="fu">::</span><span class="fu"><a href="https://parsnip.tidymodels.org/reference/boost_tree.html">boost_tree</a></span><span class="op">(</span></span>
<span> mode <span class="op">=</span> <span class="st">"classification"</span>,</span>
<span> trees <span class="op">=</span> <span class="fl">100</span>,</span>
<span> min_n <span class="op">=</span> <span class="fl">21</span>,</span>
<span> learn_rate <span class="op">=</span> <span class="fl">0.0472</span>,</span>
<span> tree_depth <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://parsnip.tidymodels.org/reference/set_engine.html">set_engine</a></span><span class="op">(</span><span class="st">"xgboost"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span></span>
<span><span class="va">last_fit_xgboost_workflow</span> <span class="op">&lt;-</span> <span class="va">xgboost_workflow</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">update_model</span><span class="op">(</span><span class="va">last_fit_xgboost_model</span><span class="op">)</span></span>
<span></span>
<span><span class="va">last_xgboost_fit</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">last_fit_xgboost_workflow</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">last_fit</span><span class="op">(</span><span class="va">bank_dataset_split</span><span class="op">)</span></span>
<span></span>
<span><span class="va">last_xgboost_fit</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">collect_metrics</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span>toprule <span class="op">=</span> <span class="cn">T</span>,align <span class="op">=</span> <span class="st">'c'</span>,booktabs <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">F</span>, position <span class="op">=</span> <span class="st">"center"</span>, html_font <span class="op">=</span> <span class="st">"Cambria"</span><span class="op">)</span> </span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<table class="table caption-top table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">.metric</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">.estimator</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">.estimate</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">.config</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">accuracy</td>
<td style="text-align: center;">binary</td>
<td style="text-align: center;">0.8921</td>
<td style="text-align: center;">Preprocessor1_Model1</td>
</tr>
<tr class="even">
<td style="text-align: center;">roc_auc</td>
<td style="text-align: center;">binary</td>
<td style="text-align: center;">0.8693</td>
<td style="text-align: center;">Preprocessor1_Model1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">brier_class</td>
<td style="text-align: center;">binary</td>
<td style="text-align: center;">0.0750</td>
<td style="text-align: center;">Preprocessor1_Model1</td>
</tr>
</tbody>
</table>
</div>
</div>
</section></section><section id="results" class="level1"><h1>Results</h1>
<p>It seems that my model has a really good predictive value even if I applied a relatively simple model. If an increased accuracy is justified we can apply a more powerful model (e.g., XGBoost, CatBoost, etc..).</p>
<p>To summarize,</p>
<table class="caption-top table">
<thead><tr class="header">
<th style="text-align: center;">Model</th>
<th style="text-align: center;">Time to build</th>
<th style="text-align: center;">ROC value (test)</th>
<th style="text-align: center;">ROC value (CV)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">LightGBM</td>
<td style="text-align: center;">12.38 sec.</td>
<td style="text-align: center;">0.8469</td>
<td style="text-align: center;">0.903</td>
</tr>
<tr class="even">
<td style="text-align: center;">XGBoost</td>
<td style="text-align: center;">37.46 sec.</td>
<td style="text-align: center;">0.8736</td>
<td style="text-align: center;">0.881</td>
</tr>
</tbody>
</table>
<p>In conclusion LightGBM model is less time consuming in comparison with XGBoost. On the other hand, XGBoost model needed more time to be built (which was expected) but outperformed LightGBM.</p>
<p>So, we got some results, so what? The main question is still unanswered. All this modelling was about to find out who is interested to a term deposit. Usually, I would use predict function with the corresponding data to mark my predictions. However, I wasn’t able to do that as I received an error about class. Nevermind, the function collect_predictions() does the same.</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pr</span> <span class="op">=</span> <span class="va">last_xgboost_fit</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu">collect_predictions</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<p>Now, I will select the predicted value and the result and I will paste them on my test data.</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pr</span> <span class="op">=</span> <span class="va">pr</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">.pred_class</span>, <span class="va">y</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>prediction <span class="op">=</span> <span class="va">.pred_class</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">final</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">pr</span>, <span class="va">bank_test</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details>
</div>
<p>And now let’s say that I want to give a list of only the interested ones. I will filter pred class to show only “Yes” values. We should also take into consideration that the dataset does not include any personal information, so I will also include an ID.</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">final</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span>toprule <span class="op">=</span> <span class="cn">T</span>,align <span class="op">=</span> <span class="st">'c'</span>,booktabs <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">F</span>, position <span class="op">=</span> <span class="st">"center"</span>, html_font <span class="op">=</span> <span class="st">"Cambria"</span><span class="op">)</span> </span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<table class="table caption-top table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">prediction</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">y</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">ID</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">age</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">job</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">marital</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">education</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">default</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">balance</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">housing</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">loan</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">contact</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">day</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">month</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">duration</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">campaign</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">pdays</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">previous</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">poutcome</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">y</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">no</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">35</td>
<td style="text-align: center;">management</td>
<td style="text-align: center;">single</td>
<td style="text-align: center;">tertiary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">1350</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">cellular</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;">apr</td>
<td style="text-align: center;">185</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">330</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">failure</td>
<td style="text-align: center;">no</td>
</tr>
<tr class="even">
<td style="text-align: center;">no</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">35</td>
<td style="text-align: center;">management</td>
<td style="text-align: center;">single</td>
<td style="text-align: center;">tertiary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">747</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">cellular</td>
<td style="text-align: center;">23</td>
<td style="text-align: center;">feb</td>
<td style="text-align: center;">141</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">176</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">failure</td>
<td style="text-align: center;">no</td>
</tr>
<tr class="odd">
<td style="text-align: center;">no</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">15</td>
<td style="text-align: center;">31</td>
<td style="text-align: center;">blue-collar</td>
<td style="text-align: center;">married</td>
<td style="text-align: center;">secondary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">360</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">cellular</td>
<td style="text-align: center;">29</td>
<td style="text-align: center;">jan</td>
<td style="text-align: center;">89</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">241</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">failure</td>
<td style="text-align: center;">no</td>
</tr>
<tr class="even">
<td style="text-align: center;">no</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">23</td>
<td style="text-align: center;">44</td>
<td style="text-align: center;">services</td>
<td style="text-align: center;">single</td>
<td style="text-align: center;">secondary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">106</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;">jun</td>
<td style="text-align: center;">109</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">-1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">no</td>
</tr>
<tr class="odd">
<td style="text-align: center;">no</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">51</td>
<td style="text-align: center;">45</td>
<td style="text-align: center;">blue-collar</td>
<td style="text-align: center;">divorced</td>
<td style="text-align: center;">primary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">844</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">jun</td>
<td style="text-align: center;">1018</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">-1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">yes</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">52</td>
<td style="text-align: center;">37</td>
<td style="text-align: center;">technician</td>
<td style="text-align: center;">single</td>
<td style="text-align: center;">secondary</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">228</td>
<td style="text-align: center;">yes</td>
<td style="text-align: center;">no</td>
<td style="text-align: center;">cellular</td>
<td style="text-align: center;">20</td>
<td style="text-align: center;">aug</td>
<td style="text-align: center;">1740</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">-1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">unknown</td>
<td style="text-align: center;">no</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">interested_clients</span> <span class="op">=</span> <span class="va">final</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">prediction</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">prediction</span> <span class="op">==</span> <span class="st">"yes"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span>toprule <span class="op">=</span> <span class="cn">T</span>,align <span class="op">=</span> <span class="st">'c'</span>,booktabs <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">F</span>, position <span class="op">=</span> <span class="st">"center"</span>, html_font <span class="op">=</span> <span class="st">"Cambria"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/scroll_box.html">scroll_box</a></span><span class="op">(</span>width <span class="op">=</span> <span class="st">"100%"</span>, height <span class="op">=</span> <span class="st">"200px"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">interested_clients</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:200px; overflow-x: scroll; width:100%; ">
<table class="table caption-top table-sm table-striped small">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: center; position: sticky; top: 0; background-color: #FFFFFF;">ID</th>
<th data-quarto-table-cell-role="th" style="text-align: center; position: sticky; top: 0; background-color: #FFFFFF;">prediction</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">52</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">99</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">157</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">201</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">203</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">301</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">313</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">355</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">495</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">510</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">620</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">662</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">685</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">703</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">838</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">856</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">960</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">1127</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1193</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">1280</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1343</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">1432</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1612</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">1739</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1761</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">1764</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1780</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">1897</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1904</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">1915</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1946</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">1975</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1981</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">1992</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">2056</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">2161</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">2259</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">2376</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">2634</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">2761</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">2880</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">2918</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">2986</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">3089</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3306</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">3590</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3615</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">3645</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3755</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">3795</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3932</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">3957</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3969</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">4233</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">4263</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="even">
<td style="text-align: center;">4266</td>
<td style="text-align: center;">yes</td>
</tr>
<tr class="odd">
<td style="text-align: center;">4276</td>
<td style="text-align: center;">yes</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>So, from 1131 possible clients, I finally got 75 that are actually interested. So, I reduced the required phone calls by 93 % (and therefore the working hours allocated to this task). But at what cost ?</p>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="code-copy-outer-scaffold">
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="va">final</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">prediction</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">prediction</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>pct <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">n</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ds</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://jkunst.com/highcharter/reference/hchart.html">hchart</a></span><span class="op">(</span><span class="st">"pie"</span>, <span class="fu"><a href="https://jkunst.com/highcharter/reference/hcaes.html">hcaes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">prediction</span>, y <span class="op">=</span> <span class="va">pct</span><span class="op">)</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_title.html">hc_title</a></span><span class="op">(</span>text <span class="op">=</span> <span class="st">"Expected number of clients"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_subtitle.html">hc_subtitle</a></span><span class="op">(</span>text <span class="op">=</span> <span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"From {nrow(final)}, only {nrow(interested_clients)} are interested to open a deposit account."</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://jkunst.com/highcharter/reference/hc_caption.html">hc_caption</a></span><span class="op">(</span><span class="st">"stesiam, 2023"</span><span class="op">)</span></span></code></pre></div>
<button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button>
</div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-5997a5d8fc1f76651ade" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-5997a5d8fc1f76651ade">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Expected number of clients"},"yAxis":{"title":{"text":"pct"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"prediction":"no","n":1074,"pct":94.95999999999999,"y":94.95999999999999,"name":"no"},{"prediction":"yes","n":57,"pct":5.04,"y":5.04,"name":"yes"}],"type":"pie"}],"xAxis":{"type":"category","title":{"text":"prediction"},"categories":null},"subtitle":{"text":[]},"caption":["stesiam, 2023"]},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section id="hypothesis" class="level1"><h1>Hypothesis</h1>
<p>Let’s suppose we have to launch a new campaign and inform the interested parties. There are two options. The traditional one, in which case we should call everyone (1131 people). On the other hand, we can use a machine learning (ML) model (given that I have some data) to ‘interrupt’ some of them. I am also assuming that a phone call lasts, on average, 4 minutes. Additionally, based on Eurostat, the average hourly wage is 30.5 euros.</p>
<p>To call everyone, we would need 4,524 minutes, which corresponds to 75.4 working hours and therefore amounts to 2,300 euros. By using the model, we would only require 75 calls, equivalent to 5 working hours and 152.5 euros. Even in this simple example (with so few observations), we can see a significant benefit for the company. Last but not least, the company won’t disappoint any customers by promoting something they are not interested in, potentially losing clients. Therefore, ML modeling will help not only financially but also in maintaining a healthy brand.</p>
</section><div id="quarto-appendix" class="default">
<section id="acknowledgements" class="level1 appendix unlisted"><h2 class="anchored quarto-appendix-heading">Acknowledgements</h2>
<div class="quarto-appendix-contents">
<p>Image by <a href="https://pixabay.com/users/geralt-9301/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=563967">Gerd Altmann</a> from <a href="https://pixabay.com//?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=563967">Pixabay</a></p>
</div></section><section id="references" class="level1 appendix unlisted"><h2 class="quarto-appendix-heading"></h2>
<div class="quarto-appendix-contents">



</div></section><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-R-infer" class="csl-entry" role="listitem">
Bray, A., Ismay, C., Chasnovski, E., Couch, S., Baumer, B., &amp; Cetinkaya-Rundel, M. (2025). <em>Infer: Tidy statistical inference</em>. Retrieved from <a href="https://github.com/tidymodels/infer">https://github.com/tidymodels/infer</a>
</div>
<div id="ref-infer2021" class="csl-entry" role="listitem">
Couch, S. P., Bray, A. P., Ismay, C., Chasnovski, E., Baumer, B. S., &amp; Çetinkaya-Rundel, M. (2021). <span class="nocase">infer</span>: An <span>R</span> package for tidyverse-friendly statistical inference. <em>Journal of Open Source Software</em>, <em>6</em>(65), 3661. <a href="https://doi.org/10.21105/joss.03661">https://doi.org/10.21105/joss.03661</a>
</div>
<div id="ref-Dua2019" class="csl-entry" role="listitem">
Dua, D., &amp; Graff, C. (2017). <em><span>UCI</span> machine learning repository</em>. University of California, Irvine, School of Information; Computer Sciences. Retrieved from <a href="http://archive.ics.uci.edu/ml">http://archive.ics.uci.edu/ml</a>
</div>
<div id="ref-R-bonsai" class="csl-entry" role="listitem">
Falbel, D., Damiani, A., Hogervorst, R. M., Kuhn, M., &amp; Couch, S. (2025). <em>Bonsai: Model wrappers for tree-based models</em>. Retrieved from <a href="https://bonsai.tidymodels.org/">https://bonsai.tidymodels.org/</a>
</div>
<div id="ref-R-rsample" class="csl-entry" role="listitem">
Frick, H., Chow, F., Kuhn, M., Mahoney, M., Silge, J., &amp; Wickham, H. (2025). <em>Rsample: General resampling infrastructure</em>. Retrieved from <a href="https://rsample.tidymodels.org">https://rsample.tidymodels.org</a>
</div>
<div id="ref-R-glue" class="csl-entry" role="listitem">
Hester, J., &amp; Bryan, J. (2024). <em>Glue: Interpreted string literals</em>. Retrieved from <a href="https://glue.tidyverse.org/">https://glue.tidyverse.org/</a>
</div>
<div id="ref-R-themis" class="csl-entry" role="listitem">
Hvitfeldt, E. (2025). <em>Themis: Extra recipes steps for dealing with unbalanced data</em>. Retrieved from <a href="https://github.com/tidymodels/themis">https://github.com/tidymodels/themis</a>
</div>
<div id="ref-kabacoff2019data" class="csl-entry" role="listitem">
Kabacoff, R. (2019). Data visualization with r. <em>URL Https://Rkabacoff. Github. Io/Datavis</em>.
</div>
<div id="ref-Kirenz2021" class="csl-entry" role="listitem">
Kirenz, J. (2021). Classification with tidymodels, workflows and recipes. Retrieved November 22, 2022, from <a href="https://www.kirenz.com/post/2021-02-17-r-classification-tidymodels/#data-preparation">https://www.kirenz.com/post/2021-02-17-r-classification-tidymodels/#data-preparation</a>
</div>
<div id="ref-R-modeldata" class="csl-entry" role="listitem">
Kuhn, M. (2024). <em>Modeldata: Data sets useful for modeling examples</em>. Retrieved from <a href="https://modeldata.tidymodels.org">https://modeldata.tidymodels.org</a>
</div>
<div id="ref-R-tune" class="csl-entry" role="listitem">
Kuhn, M. (2025). <em>Tune: Tidy tuning tools</em>. Retrieved from <a href="https://tune.tidymodels.org/">https://tune.tidymodels.org/</a>
</div>
<div id="ref-R-workflowsets" class="csl-entry" role="listitem">
Kuhn, M., &amp; Couch, S. (2024). <em>Workflowsets: Create a collection of tidymodels workflows</em>. Retrieved from <a href="https://github.com/tidymodels/workflowsets">https://github.com/tidymodels/workflowsets</a>
</div>
<div id="ref-R-dials" class="csl-entry" role="listitem">
Kuhn, M., &amp; Frick, H. (2025). <em>Dials: Tools for creating tuning parameter values</em>. Retrieved from <a href="https://dials.tidymodels.org">https://dials.tidymodels.org</a>
</div>
<div id="ref-R-parsnip" class="csl-entry" role="listitem">
Kuhn, M., &amp; Vaughan, D. (2025). <em>Parsnip: A common API to modeling and analysis functions</em>. Retrieved from <a href="https://github.com/tidymodels/parsnip">https://github.com/tidymodels/parsnip</a>
</div>
<div id="ref-R-yardstick" class="csl-entry" role="listitem">
Kuhn, M., Vaughan, D., &amp; Hvitfeldt, E. (2025). <em>Yardstick: Tidy characterizations of model performance</em>. Retrieved from <a href="https://github.com/tidymodels/yardstick">https://github.com/tidymodels/yardstick</a>
</div>
<div id="ref-tidymodels2020" class="csl-entry" role="listitem">
Kuhn, M., &amp; Wickham, H. (2020). <em>Tidymodels: A collection of packages for modeling and machine learning using tidyverse principles.</em> Retrieved from <a href="https://www.tidymodels.org">https://www.tidymodels.org</a>
</div>
<div id="ref-R-tidymodels" class="csl-entry" role="listitem">
Kuhn, M., &amp; Wickham, H. (2025). <em>Tidymodels: Easily install and load the tidymodels packages</em>. Retrieved from <a href="https://tidymodels.tidymodels.org">https://tidymodels.tidymodels.org</a>
</div>
<div id="ref-R-recipes" class="csl-entry" role="listitem">
Kuhn, M., Wickham, H., &amp; Hvitfeldt, E. (2025). <em>Recipes: Preprocessing and feature engineering steps for modeling</em>. Retrieved from <a href="https://github.com/tidymodels/recipes">https://github.com/tidymodels/recipes</a>
</div>
<div id="ref-R-highcharter" class="csl-entry" role="listitem">
Kunst, J. (2022). <em>Highcharter: A wrapper for the highcharts library</em>. Retrieved from <a href="https://jkunst.com/highcharter/">https://jkunst.com/highcharter/</a>
</div>
<div id="ref-R-reactable" class="csl-entry" role="listitem">
Lin, G. (2023). <em>Reactable: Interactive data tables for r</em>. Retrieved from <a href="https://glin.github.io/reactable/">https://glin.github.io/reactable/</a>
</div>
<div id="ref-moro2014data" class="csl-entry" role="listitem">
Moro, S., Cortez, P., &amp; Rita, P. (2014). A data-driven approach to predict the success of bank telemarketing. <em>Decision Support Systems</em>, <em>62</em>, 22–31.
</div>
<div id="ref-R-tibble" class="csl-entry" role="listitem">
Müller, K., &amp; Wickham, H. (2023). <em>Tibble: Simple data frames</em>. Retrieved from <a href="https://tibble.tidyverse.org/">https://tibble.tidyverse.org/</a>
</div>
<div id="ref-R-base" class="csl-entry" role="listitem">
R Core Team. (2025). <em>R: A language and environment for statistical computing</em>. Vienna, Austria: R Foundation for Statistical Computing. Retrieved from <a href="https://www.R-project.org/">https://www.R-project.org/</a>
</div>
<div id="ref-Rbloggers2017" class="csl-entry" role="listitem">
R-Bloggers. (2017). 5 ways to measure running time of r code. Retrieved November 20, 2022, from <a href="https://www.r-bloggers.com/2017/05/5-ways-to-measure-running-time-of-r-code/">https://www.r-bloggers.com/2017/05/5-ways-to-measure-running-time-of-r-code/</a>
</div>
<div id="ref-Rbloggers2020" class="csl-entry" role="listitem">
R-Bloggers. (2020). How to use lightgbm with tidymodels. Retrieved November 20, 2022, from <a href="https://www.r-bloggers.com/2020/08/how-to-use-lightgbm-with-tidymodels/">https://www.r-bloggers.com/2020/08/how-to-use-lightgbm-with-tidymodels/</a>
</div>
<div id="ref-R-broom" class="csl-entry" role="listitem">
Robinson, D., Hayes, A., &amp; Couch, S. (2025). <em>Broom: Convert statistical objects into tidy tibbles</em>. Retrieved from <a href="https://broom.tidymodels.org/">https://broom.tidymodels.org/</a>
</div>
<div id="ref-R-workflows" class="csl-entry" role="listitem">
Vaughan, D., &amp; Couch, S. (2025). <em>Workflows: Modeling workflows</em>. Retrieved from <a href="https://github.com/tidymodels/workflows">https://github.com/tidymodels/workflows</a>
</div>
<div id="ref-ggplot22016" class="csl-entry" role="listitem">
Wickham, H. (2016). <em>ggplot2: Elegant graphics for data analysis</em>. Springer-Verlag New York. Retrieved from <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>
</div>
<div id="ref-R-forcats" class="csl-entry" role="listitem">
Wickham, H. (2023). <em>Forcats: Tools for working with categorical variables (factors)</em>. Retrieved from <a href="https://forcats.tidyverse.org/">https://forcats.tidyverse.org/</a>
</div>
<div id="ref-R-ggplot2" class="csl-entry" role="listitem">
Wickham, H., Chang, W., Henry, L., Pedersen, T. L., Takahashi, K., Wilke, C., … van den Brand, T. (2025). <em>ggplot2: Create elegant data visualisations using the grammar of graphics</em>. Retrieved from <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>
</div>
<div id="ref-R-dplyr" class="csl-entry" role="listitem">
Wickham, H., François, R., Henry, L., Müller, K., &amp; Vaughan, D. (2023). <em>Dplyr: A grammar of data manipulation</em>. Retrieved from <a href="https://dplyr.tidyverse.org">https://dplyr.tidyverse.org</a>
</div>
<div id="ref-R-purrr" class="csl-entry" role="listitem">
Wickham, H., &amp; Henry, L. (2025). <em>Purrr: Functional programming tools</em>. Retrieved from <a href="https://purrr.tidyverse.org/">https://purrr.tidyverse.org/</a>
</div>
<div id="ref-R-readr" class="csl-entry" role="listitem">
Wickham, H., Hester, J., &amp; Bryan, J. (2024). <em>Readr: Read rectangular text data</em>. Retrieved from <a href="https://readr.tidyverse.org">https://readr.tidyverse.org</a>
</div>
<div id="ref-R-scales" class="csl-entry" role="listitem">
Wickham, H., Pedersen, T. L., &amp; Seidel, D. (2025). <em>Scales: Scale functions for visualization</em>. Retrieved from <a href="https://scales.r-lib.org">https://scales.r-lib.org</a>
</div>
<div id="ref-R-tidyr" class="csl-entry" role="listitem">
Wickham, H., Vaughan, D., &amp; Girlich, M. (2024). <em>Tidyr: Tidy messy data</em>. Retrieved from <a href="https://tidyr.tidyverse.org">https://tidyr.tidyverse.org</a>
</div>
<div id="ref-R-kableExtra" class="csl-entry" role="listitem">
Zhu, H. (2024). <em>kableExtra: Construct complex table with kable and pipe syntax</em>. Retrieved from <a href="http://haozhu233.github.io/kableExtra/">http://haozhu233.github.io/kableExtra/</a>
</div>
</div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2>
<div>
<div class="quarto-appendix-secondary-label">BibTeX citation:</div>
<pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{2022,
  author = {, stesiam},
  title = {Predict {Possible} {Interested} {Clients}},
  date = {2022-11-24},
  url = {https://stesiam.com/posts/predict-possible-clients/},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
<div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div>
<div id="ref-2022" class="csl-entry quarto-appendix-citeas" role="listitem">
stesiam. (2022, November 24). Predict Possible Interested Clients.
Retrieved from <a href="https://stesiam.com/posts/predict-possible-clients/">https://stesiam.com/posts/predict-possible-clients/</a>
</div>
</div></section>
</div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/stesiam\.com");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><input type="hidden" id="giscus-base-theme" value="light"><input type="hidden" id="giscus-alt-theme" value="dark"><script>
  function loadGiscus() {
    // Function to get the theme based on body class
    const getTheme = () => {
      let baseTheme = document.getElementById('giscus-base-theme').value;
      let altTheme = document.getElementById('giscus-alt-theme').value;
      if (authorPrefersDark) {
          [baseTheme, altTheme] = [altTheme, baseTheme];
      }
      return document.body.classList.contains('quarto-dark') ? altTheme : baseTheme;
    };
    const script = document.createElement("script");
    script.src = "https://giscus.app/client.js";
    script.async = true;
    script.dataset.repo = "stesiam/stesiam.github.io";
    script.dataset.repoId = "R_kgDOHuiNDg";
    script.dataset.category = "Comments";
    script.dataset.categoryId = "DIC_kwDOHuiNDs4CQeAf";
    script.dataset.mapping = "title";
    script.dataset.reactionsEnabled = "1";
    script.dataset.emitMetadata = "0";
    script.dataset.inputPosition = "top";
    script.dataset.theme = getTheme();
    script.dataset.lang = "en";
    script.crossOrigin = "anonymous";
    // Append the script to the desired div instead of at the end of the body
    document.getElementById("quarto-content").appendChild(script);
  }
  loadGiscus();
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<div>
<p>
The website is being hosted on <i class="bi bi-github"></i> GitHub Pages
</p>
</div>
<div>
<p>
Access my site’s <i class="bi bi-code-slash"></i> <a href="https://github.com/stesiam/stesiam.github.io">Source Code</a>
</p>
</div>
</div>   
    <div class="nav-footer-center">
<div>

</div>
<div>
<p>
© stesiam, 2022-2025
</p>
</div>
</div>
    <div class="nav-footer-right">
<div>
<p>
Made with R (Rstats), love, much patience,
</p>
</div>
<div>
<p>
<a href="https://quarto.org/">Quarto</a> and <a href="https://github.com/ropensci-review-tools/babelquarto">babelquarto</a>
</p>
</div>
</div>
  </div>
</footer>
</body>
</html>
