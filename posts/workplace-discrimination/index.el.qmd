---
title: "Διακρίσεις στην εργασία"
author: "stesiam"
lang: el
description: "Βασιζόμενος σε δημοσιευμένες αγγελίες, αναζητώ την έκταση του φαινομένου των διακρίσεων με βάση το φύλο, τη φυλή και την ηλικία του καθενός. [Υπό επεξεργασία]"
freeze: false
link-external-newwindow: true
categories: [R, Περιγραφικη αναλυση]
image: discr_work.png
image-alt: "Πρόσοψη κτιρίου Ελληνικού Κοινοβουλίου"
fig-cap-location: bottom
date: "2025-12-30"
toc: true
toc-title: Περιεχόμενα
toc-location: left
citation: true
title-block-banner: true
nocite: '@*'
csl: apa-6th-edition.csl
bibliography: [packages.bib, references.bib]
format: 
  html:
    freeze: false
    code-link: true
    code-fold: true
    code-summary: "Show the code"
    embed-resources: false
    lib-dir: site_libs
    include-in-header: ../../assets/js/lazy-highcharts.js
    code-tools: 
      source: https://github.com/stesiam/stesiam.github.io/blob/gh-pages/posts/workplace-discrimination/index.el.qmd
execute:
  echo: true
editor_options: 
  markdown: 
    wrap: 80
---

## Εισαγωγή

Η αναζήτηση εργασίας είναι το επόμενο βήμα στη ζωή ενός πρόσφατου απόφοιτου. Έτσι και εγώ έχω ξεκινήσει εδώ και κάμποσο καιρό να αναζητώ μία εργασία. Αυτό το διάστημα που έμπαινα σε σχετικές πλατφόρμες σε καθημερινή βάση παρατηρούσα έναν σημαντικό αριθμό αγγελιών οι οποίες έθεταν αρκετά αμφιλεγόμενους όρους. Από τη μία μεριά μπορεί κάποιος να ισχυριστεί ότι μπορεί ο εκάστοτε εργοδότης να θέτει τις δικές του προϋποθέσεις για το προσωπικό που θα απαρτίζει την επιχείρησή του. Αυτό είναι απολύτως λογικό. Το πρόβλημα ξεκινάει όταν υπάρχουν όροι το προσωπικό μας να έχει κάποιο συγκεκριμένα χαρακτηριστικά τα οποία είναι έμφυτα, γεννιόμαστε με αυτά και (ως επί το πλείστον) δεν μπροούμε να τα αλλάξουμε. Φύλο, εθνικότητα, ηλικία ή ακόμα και γονίδια «ομορφιάς» είνα μερικές σχετικές απαιτήσεις που θα διαβάσουμε σε αρκετές αγγελίες. Προφανώς τα παραπάνω αποτελούν σοβαρές μορφές διακρίσεων οι οποίες κυριαρχούν ακόμα και σήμερα.

Αυτή η αρχική εντύπωση υποστηρίζεται και από τα στατιστικά στοιχεία. Ας ερευνήσουμε το φαινόμενο διακρίσεων φύλου το οποίο είναι και ιδιαίτερα εκτεταμένο. Για αυτό το σκοπό θα αναζητήσουμε τα ποσοστά ανεργίας μεταξύ των φύλων και θα διαπιστώσουμε μία διαχρονική και συνεχιζόμενη μέχρι και σήμερα υψηλότερη ανεργία των γυναικών έναντι των ανδρών. Από το 1998 ποτέ ο δείκτης ανεργίας του εργατικού δυναμικού των γυναικών δεν ήταν σε ίδια επίπεδα. Παρά την αρνητική εικόνα του δείκτη παρατηρείται ότι από το 1998, όπου η διαφορά στην ανεργία μεταξύ των φύλων ήταν στο 10% σταδιακά αυτό το χάσμα αρχίζει να μειώνεται. Πλέον, το 2025 αυτή η διαφορά έχει πέσει στο 4\% όπου είναι ενα αισιόδοξο σημάδι αλλά συνάμα μία υπενθύμιση για την ύπαρξη ενός δυσάρεστου φαινομένου προκαταλήψεων και μη ισότιμης ευκαιρίας και στα δύο φύλα.


```{r}
#| message: false
#| warning: false
library(readr)
library(dplyr)
library(lubridate)
library(highcharter)
unempl_gender_eu_grc <- read_csv("unempl_gender_eu_grc.csv") %>% 
  select(sex, geo, TIME_PERIOD, OBS_VALUE) %>%
  dplyr::filter(geo == "EL") %>%
  dplyr::mutate(TIME_PERIOD = lubridate::ym(TIME_PERIOD)) %>%
  dplyr::mutate(year = year(TIME_PERIOD)) %>%
  group_by(sex, year) %>%
  summarise(mean = mean(OBS_VALUE)) %>%
  mutate(mean = round(mean, 1)) %>%
  mutate(
    sex = recode(sex,
                 "M" = "Άνδρες",
                 "F" = "Γυναίκες")
  )



highchart() %>%
  hc_chart(
    type = "line"
  ) %>%
  
  # Custom colors (professional palette)
  hc_colors(c("#1f77b4","#e15759")) %>%
  
  # Data
  hc_add_series(
    data = unempl_gender_eu_grc,
    type = "line",
    hcaes(x = year, y = mean, group = sex),
    marker = list(
      enabled = TRUE,
      radius = 4
    ),
    lineWidth = 3
  ) %>%
  
  # Titles
  hc_title(
    text = "Ποσοστό ανεργίας ανά φύλο",
    style = list(fontSize = "18px", fontWeight = "bold")
  ) %>%
  
  hc_subtitle(
    text = "Διαχρονική σύγκριση ανεργίας στην Ελλάδα (1998 - 2025)"
  ) %>%
  
  # Axes
  hc_xAxis(
    title = list(text = "Year"),
    tickLength = 0,
    gridLineWidth = 0
  ) %>%
  
  hc_yAxis(
    title = list(text = "Ανεργία (%)"),
    gridLineDashStyle = "Dash",
    gridLineColor = "#e6e6e6"
  ) %>%
  
  # Tooltip styling
  hc_tooltip(
    shared = TRUE,
    crosshairs = TRUE,
    valueDecimals = 2,
    backgroundColor = "rgba(255,255,255,0.95)",
    borderRadius = 8,
    valueSuffix = " %"
  ) %>%
  
  # Legend styling
  hc_legend(
    align = "center",
    verticalAlign = "bottom",
    layout = "horizontal",
    itemStyle = list(fontWeight = "bold")
  ) %>%
  
  # Smooth animation
  hc_plotOptions(
    series = list(
      animation = list(duration = 800),
      states = list(
        hover = list(
          lineWidthPlus = 1
        )
      )
    )
  )

```





```{r}
#| label: import_r_libs
#| title: "Εισαγωγή R πακέτων"
#| message: false
#| warning: false

library(readr)
library(dplyr)
library(forcats)
library(stringr)
library(stringi)
library(lubridate)
library(highcharter)
```


```{r}
#| label: write_bibliography
#| include: false
knitr::write_bib(.packages(), file = 'packages.bib')

options(
  highcharter.lang = list(
    months = c("Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος",
               "Μάιος","Ιούνιος","Ιούλιος","Αύγουστος",
               "Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"),
    shortMonths = c("Ιαν","Φεβ","Μαρ","Απρ","Μάι","Ιουν",
                    "Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"),
    weekdays = c("Κυριακή","Δευτέρα","Τρίτη",
                 "Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο")
  )
)
```


```{r}
#| label: import_dataset
#| title: "Εισαγωγή δεδομένων"
#| message: false
#| warning: false

data = readr::read_csv("https://github.com/stesiam/scraping-job-postings-xe/releases/download/v1.2/job-posts.csv")
data = data %>%
  select(spc, type, wage, loc, exp, descr, p_date)
```


```{r}
months_gr <- c(
    "Ιανουαριου" = "January",
    "Φεβρουαριου" = "February",
    "Μαρτιου" = "March",
    "Απριλιου" = "April",
    "Μαιου" = "May",
    "Μαΐου" = "May",
    "Ιουνιου" = "June",
    "Ιουλιου" = "July",
    "Αυγουστου" = "August",
    "Σεπτεμβριου" = "September",
    "Οκτωβριου" = "October",
    "Νοεμβριου" = "November",
    "Δεκεμβριου" = "December"
)

clean_data = data %>% 
    mutate(type = tolower(type)) %>%
    mutate(workingHours = case_when(
      str_detect(type, "πλήρης") ~ "Πλήρης",
      str_detect(type, "μερική")  ~ "Μερική",
      .default = "Αδιευκρίνιστο")
    ) %>%
    mutate(presence = case_when(
      str_detect(type, "φυσική") ~ "Φυσική",
      str_detect(type, "υβριδική")  ~ "Υβριδική",
      str_detect(type, "αποστάσεως")  ~ "Εξ' αποστάσεως",
      .default = "Αδιευκρίνιστο")
    ) %>%
     mutate(contractType = case_when(
      str_detect(type, "αορίστου") ~ "Αορίστου χρόνου",
      str_detect(type, "ορισμένου")  ~ "Ορισμένου χρόνου",
      .default = "Αδιευκρίνιστο")
    ) %>%
  select(-type) %>%
  relocate(workingHours, presence, contractType, .after = spc) %>%
   mutate(exp = case_when(
      str_detect(exp, "Δεν απαιτείται") ~ "0-1",
      str_detect(exp, "Λιγότερο από 1 έτος")  ~ "0-1",
      str_detect(exp, "1-2 έτη") ~ "1-2",
      str_detect(exp, "2-3 έτη")  ~ "2-3",
      str_detect(exp, "3-5 έτη") ~ "3-5",
      str_detect(exp, "5-10 έτη")  ~ "5-10",
      .default = NA)
    ) %>%
  relocate(exp, .after = contractType) %>%
  mutate(
        date = p_date %>%
            str_remove("^[^ ]+\\s+") %>%     # remove weekday
            str_to_lower() %>%               # lowercase
            stringi::stri_trans_general("NFD; [:Nonspacing Mark:] Remove; NFC") %>% 
            str_replace_all(months_gr) %>%   # translate months
            str_squish() %>%
            dmy()
    ) %>%
  select(-p_date)


clean_data = clean_data %>%
  mutate(
    exp = fct_relevel(
        exp,
        "0-1", "1-2", "2-3", "3-5", "5-10"
))
```


## Περιγραφικά στοιχεία



```{r}
#| fig-cap: 'SSW'
#| label: fig-r

library(htmltools)
t = table(clean_data$exp)
v=t %>% as.data.frame() |>
  mutate(pct = 100* (Freq / sum(Freq)) ) |>
  mutate( pct = round(pct, 1))

data_points <- list_parse(
  data.frame(
    y = v$pct,            # y-axis value
    category = v$Var1,     # optional, but explicit
    freq = v$Freq
  )
)

chart = highchart() |>
    hc_chart(
        type = "column"    ) |>
    hc_title(
        text = "Απαιτούμενη προϋπηρεσία",
        style = list(fontSize = "18px", fontWeight = "bold")
    ) |>
    hc_subtitle(
        text = "Εργασιακή εμπειρία (σε έτη)",
        style = list(color = "#666666")
    ) |>
    hc_xAxis(
        categories = v$Var1,
        tickLength = 0,
        lineWidth = 0
    ) |>
    hc_yAxis(
        title = list(text = "Παρατηρήσεις"),
        gridLineColor = "none"
    ) |>
    hc_add_series(
        name = "Πλήθος",
        data = data_points
    ) |>
    hc_plotOptions(
        column = list(
            borderWidth = 00
        )
    ) |>
    hc_tooltip(
    useHTML = TRUE,
    headerFormat = "",
    pointFormat = paste0(
      "<b>Έτη εμπειρίας:</b> {point.category}<br>",
      "<b>Ποσοστό θέσεων:</b> {point.y} %<br>",
      "<b>Πλήθος θέσεων:</b> {point.freq}"
    )
  ) |>
    hc_legend(enabled = FALSE)

div(
  class = "lazy-highchart",
  `data-widget` = as.character(chart)
)
```


```{r}
freqWorkingHours = table(clean_data$workingHours) %>%
  as.data.frame()


chart2 = highchart() %>%
    hc_chart(
        type = "pie",
        backgroundColor = "transparent"
    ) %>%
    hc_title(
        text = "Κατανομή θέσεων ανά ωράριο εργασίας",
        style = list(
            fontSize = "18px",
            fontWeight = "bold"
        )
    ) %>%
    hc_subtitle(
        text = "Αριθμός πρατηρήσεων και ποσοστό (%) επί του συνόλου των αγγελιών",
        style = list(fontSize = "12px")
    ) %>%
    hc_add_series(
        name = "Percentage",
        data = freqWorkingHours %>%
            mutate(y = Freq, name = Var1) %>%
            select(name, y) %>%
            list_parse(),
        size = "80%",
        innerSize = "50%",   # donut style (remove if you want classic pie)
        dataLabels = list(
            enabled = TRUE,
            format = "<b>{point.name}</b>: {point.percentage:.1f} %",
            style = list(fontSize = "11px")
        )
    ) %>%
    hc_tooltip(
        pointFormat = "<b>{point.y}</b> θέσεις εργασίας <br><b>Ποσοστό:</b> {point.percentage:.1f}%"
    ) %>%
    hc_plotOptions(
        pie = list(
            allowPointSelect = TRUE,
            cursor = "pointer",
            borderWidth = 0,
            showInLegend = TRUE
        )
    ) %>%
    hc_legend(
        align = "center",
        verticalAlign = "bottom",
        layout = "horizontal"
    ) %>%
    hc_colors(c(
        "#2E86AB", "#A23B72", "#F18F01", "#C73E1D"
    )) %>%
    hc_credits(enabled = FALSE)

div(
  class = "lazy-highchart",
  `data-widget` = as.character(chart2))
```


```{r}
freqWorkingHours = table(clean_data$contractType) %>%
  as.data.frame()


highchart() %>%
    hc_chart(
        type = "pie",
        backgroundColor = "transparent"
    ) %>%
    hc_title(
        text = "Κατανομή θέσεων ανά ωράριο εργασίας",
        style = list(
            fontSize = "18px",
            fontWeight = "bold"
        )
    ) %>%
    hc_subtitle(
        text = "Αριθμός πρατηρήσεων και ποσοστό (%) επί του συνόλου των αγγελιών",
        style = list(fontSize = "12px")
    ) %>%
    hc_add_series(
        name = "Percentage",
        data = freqWorkingHours %>%
            mutate(y = Freq, name = Var1) %>%
            select(name, y) %>%
            list_parse(),
        size = "80%",
        innerSize = "50%",   # donut style (remove if you want classic pie)
        dataLabels = list(
            enabled = TRUE,
            format = "<b>{point.name}</b>: {point.percentage:.1f} %",
            style = list(fontSize = "11px")
        )
    ) %>%
    hc_tooltip(
        pointFormat = "<b>{point.y}</b> θέσεις εργασίας <br><b>Ποσοστό:</b> {point.percentage:.1f}%"
    ) %>%
    hc_plotOptions(
        pie = list(
            allowPointSelect = TRUE,
            cursor = "pointer",
            borderWidth = 0,
            showInLegend = TRUE
        )
    ) %>%
    hc_legend(
        align = "center",
        verticalAlign = "bottom",
        layout = "horizontal"
    ) %>%
    hc_colors(c(
        "#2E86AB", "#A23B72", "#F18F01", "#C73E1D"
    )) %>%
    hc_credits(enabled = FALSE)
```


```{r}
freqWorkingHours = table(clean_data$presence) %>%
  as.data.frame()


highchart() %>%
    hc_chart(
        type = "pie",
        backgroundColor = "transparent"
    ) %>%
    hc_title(
        text = "Κατανομή θέσεων ανά ωράριο εργασίας",
        style = list(
            fontSize = "18px",
            fontWeight = "bold"
        )
    ) %>%
    hc_subtitle(
        text = "Αριθμός πρατηρήσεων και ποσοστό (%) επί του συνόλου των αγγελιών",
        style = list(fontSize = "12px")
    ) %>%
    hc_add_series(
        name = "Percentage",
        data = freqWorkingHours %>%
            mutate(y = Freq, name = Var1) %>%
            select(name, y) %>%
            list_parse(),
        size = "80%",
        innerSize = "50%",   # donut style (remove if you want classic pie)
        dataLabels = list(
            enabled = TRUE,
            format = "<b>{point.name}</b>: {point.percentage:.1f} %",
            style = list(fontSize = "11px")
        )
    ) %>%
    hc_tooltip(
        pointFormat = "<b>{point.y}</b> θέσεις εργασίας <br><b>Ποσοστό:</b> {point.percentage:.1f}%"
    ) %>%
    hc_plotOptions(
        pie = list(
            allowPointSelect = TRUE,
            cursor = "pointer",
            borderWidth = 0,
            showInLegend = TRUE
        )
    ) %>%
    hc_legend(
        align = "center",
        verticalAlign = "bottom",
        layout = "horizontal"
    ) %>%
    hc_colors(c(
        "#2E86AB", "#A23B72", "#F18F01", "#C73E1D"
    )) %>%
    hc_credits(enabled = FALSE)
```

## Μεθοδολογία πειράματος




## Εφαρμογή


## Αποτελέσματα




